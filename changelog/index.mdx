---
title: "Changelog"
description: "Track ComfyUI's latest features, improvements, and bug fixes"
icon: "clock-rotate-left"
---

<Update label="v0.3.45" description="July 21, 2025">

**Advanced Sampling & Training Infrastructure Improvements**

This release introduces significant enhancements to sampling algorithms, training capabilities, and node functionality for AI researchers and workflow creators:

## New Sampling & Generation Features
- **SA-Solver Sampler**: New reconstructed SA-Solver sampling algorithm providing enhanced numerical stability and quality for complex generation workflows
- **Experimental CFGNorm Node**: Advanced classifier-free guidance normalization for improved control over generation quality and style consistency
- **Nested Dual CFG Support**: Added nested style configuration to DualCFGGuider node, offering more sophisticated guidance control patterns
- **SamplingPercentToSigma Node**: New utility node for precise sigma calculation from sampling percentages, improving workflow flexibility

## Enhanced Training Capabilities
- **Multi Image-Caption Dataset Support**: LoRA training node now handles multiple image-caption datasets simultaneously, streamlining training workflows
- **Better Training Loop Implementation**: Optimized training algorithms for improved convergence and stability during model fine-tuning
- **Enhanced Error Detection**: Added model detection error hints for LoRA operations, providing clearer feedback when issues occur

## Platform & Performance Improvements
- **Async Node Support**: Full support for asynchronous node functions with earlier execution optimization, improving workflow performance for I/O intensive operations
- **Chroma Flexibility**: Un-hardcoded patch_size parameter in Chroma, allowing better adaptation to different model configurations
- **LTXV VAE Decoder**: Switched to improved default padding mode for better image quality with LTXV models
- **Safetensors Memory Management**: Added workaround for mmap issues, improving reliability when loading large model files

## API & Integration Enhancements
- **Custom Prompt IDs**: API now allows specifying prompt IDs for better workflow tracking and management
- **Kling API Optimization**: Increased polling timeout to prevent user timeouts during video generation workflows
- **History Token Cleanup**: Removed sensitive tokens from history items for improved security
- **Python 3.9 Compatibility**: Fixed compatibility issues ensuring broader platform support

## Bug Fixes & Stability
- **MaskComposite Fixes**: Resolved errors when destination masks have 2 dimensions, improving mask workflow reliability
- **Fresca Input/Output**: Corrected input and output handling for Fresca model workflows
- **Reference Bug Fixes**: Resolved incorrect reference bugs in Gemini node implementations
- **Line Ending Standardization**: Automated detection and removal of Windows line endings for cross-platform consistency

## Developer Experience
- **Warning Systems**: Added torch import mistake warnings to catch common configuration issues
- **Template Updates**: Multiple template version updates (0.1.36, 0.1.37, 0.1.39) for improved custom node development
- **Documentation**: Enhanced fast_fp16_accumulation documentation in portable configurations

These improvements make ComfyUI more robust for production workflows while introducing powerful new sampling techniques and training capabilities essential for advanced AI research and creative applications.

</Update>

<Update label="v0.3.44" description="July 8, 2025">

**Advanced Sampling & Model Control Enhancements**

This release delivers significant improvements to sampling algorithms and model control systems, particularly benefiting advanced AI researchers and workflow creators:

## New Sampling Capabilities
- **TCFG Node**: Enhanced classifier-free guidance control for more nuanced generation control in your workflows
- **ER-SDE Sampler**: Migrated from VE to VP algorithm with new sampler node, providing better numerical stability for complex generation tasks
- **Skip Layer Guidance (SLG)**: Alternative implementation for precise layer-level control during inference, perfect for advanced model steering workflows

## Enhanced Development Tools
- **Custom Node Management**: New `--whitelist-custom-nodes` argument pairs with `--disable-all-custom-nodes` for precise development control
- **Performance Optimizations**: Dual CFG node now optimizes automatically when CFG is 1.0, reducing computational overhead
- **GitHub Actions Integration**: Automated release webhook notifications keep developers informed of new updates

## Image Processing Improvements
- **New Transform Nodes**: Added ImageRotate and ImageFlip nodes for enhanced image manipulation workflows
- **ImageColorToMask Fix**: Corrected mask value returns for more accurate color-based masking operations
- **3D Model Support**: Upload 3D models to custom subfolders for better organization in complex projects

## Guidance & Conditioning Enhancements
- **PerpNeg Guider**: Updated with improved pre and post-CFG handling plus performance optimizations
- **Latent Conditioning Fix**: Resolved issues with conditioning at index > 0 for multi-step workflows
- **Denoising Steps**: Added denoising step support to several samplers for cleaner outputs

## Platform Stability
- **PyTorch Compatibility**: Fixed contiguous memory issues with PyTorch nightly builds
- **FP8 Fallback**: Automatic fallback to regular operations when FP8 operations encounter exceptions
- **Audio Processing**: Removed deprecated torchaudio.save function dependencies with warning fixes

## Model Integration
- **Moonvalley Nodes**: Added native support for Moonvalley model workflows
- **Scheduler Reordering**: Simple scheduler now defaults first for better user experience
- **Template Updates**: Multiple template version updates (0.1.31-0.1.35) for improved custom node development

## Security & Safety
- **Safe Loading**: Added warnings when loading files unsafely, with documentation noting that checkpoint files are loaded safely by default
- **File Validation**: Enhanced checkpoint loading safety measures for secure workflow execution

These improvements make ComfyUI more robust for production workflows while expanding creative possibilities for AI artists working with advanced sampling techniques and model control systems.

</Update>

<Update label="v0.3.43" description="June 30, 2025">

**Enhanced Model Support & Workflow Reliability**

This release brings significant improvements to model compatibility and workflow stability:

- **Expanded Model Documentation**: Added comprehensive support documentation for Flux Kontext and Omnigen 2 models, making it easier for creators to integrate these powerful models into their workflows
- **VAE Encoding Improvements**: Removed unnecessary random noise injection during VAE encoding, resulting in more consistent and predictable outputs across workflow runs
- **Memory Management Fix**: Resolved a critical memory estimation bug specifically affecting Kontext model usage, preventing out-of-memory errors and improving workflow stability

These changes enhance the reliability of advanced model workflows while maintaining ComfyUI's flexibility for AI artists and researchers working with cutting-edge generative models.

</Update>

<Update label="v0.3.41" description="June 17, 2025">

**Major Model Support Additions**
- **Cosmos Predict2 Support**: Full implementation for both text-to-image (2B and 14B models) and image-to-video generation workflows, expanding video creation capabilities
- **Enhanced Flux Compatibility**: Chroma Text Encoder now works seamlessly with regular Flux models, improving text conditioning quality
- **LoRA Training Integration**: New native LoRA training node using weight adapter scheme, enabling direct model fine-tuning within ComfyUI workflows

**Performance & Hardware Optimizations**
- **AMD GPU Enhancements**: Enabled FP8 operations and PyTorch attention on GFX1201 and other compatible AMD GPUs for faster inference
- **Apple Silicon Fixes**: Addressed long-standing FP16 attention issues on Apple devices, improving stability for Mac users
- **Flux Model Stability**: Resolved black image generation issues with certain Flux models in FP16 precision

**Advanced Sampling Improvements**
- **Rectified Flow (RF) Samplers**: Added SEEDS and multistep DPM++ SDE samplers with RF support, providing more sampling options for cutting-edge models
- **ModelSamplingContinuousEDM**: New cosmos_rflow option for enhanced sampling control with Cosmos models
- **Memory Optimization**: Improved memory estimation for Cosmos models with uncapped resolution support

**Developer & Integration Features**
- **SQLite Database Support**: Enhanced data management capabilities for custom nodes and workflow storage
- **PyProject.toml Integration**: Automatic web folder registration and settings configuration from pyproject files
- **Frontend Flexibility**: Support for semver suffixes and prerelease frontend versions for custom deployments
- **Tokenizer Enhancements**: Configurable min_length settings with tokenizer_data for better text processing

**Quality of Life Improvements**
- **Kontext Aspect Ratio Fix**: Resolved widget-only limitation, now works properly in all connection modes  
- **SaveLora Consistency**: Standardized filename format across all save nodes for better file organization
- **Python Version Warnings**: Added alerts for outdated Python installations to prevent compatibility issues
- **WebcamCapture Fixes**: Corrected IS_CHANGED signature for reliable live input workflows

This release significantly expands ComfyUI's model ecosystem support while delivering crucial stability improvements and enhanced hardware compatibility across different platforms.
</Update>

<Update label="v0.3.40" description="June 5, 2025">

This release brings powerful new workflow utilities and performance optimizations for ComfyUI creators:

## New Workflow Tools
- **ImageStitch Node**: Concatenate multiple images seamlessly in your workflows - perfect for creating comparison grids or composite outputs
- **GetImageSize Node**: Extract image dimensions with batch processing support, essential for dynamic sizing workflows
- **Regex Replace Node**: Advanced text manipulation capabilities for prompt engineering and string processing workflows

## Enhanced Model Compatibility
- **Improved Tensor Handling**: Streamlined list processing makes complex multi-model workflows more reliable
- **BFL API Optimization**: Refined support for Kontext [pro] and [max] models with cleaner node interfaces
- **Performance Boost**: Fused multiply-add operations in chroma processing for faster generation times

## Developer Experience Improvements
- **Custom Node Support**: Added pyproject.toml support for better custom node dependency management
- **Help Menu Integration**: New help system in the Node Library sidebar for faster node discovery
- **API Documentation**: Enhanced API nodes documentation for workflow automation

## Frontend & UI Enhancements
- **Frontend Updated to v1.21.7**: Multiple stability fixes and performance improvements
- **Custom API Base Support**: Better subpath handling for custom deployment configurations
- **Security Hardening**: XSS vulnerability fixes for safer workflow sharing

## Bug Fixes & Stability
- **Pillow Compatibility**: Updated deprecated API calls to maintain compatibility with latest image processing libraries
- **ROCm Support**: Improved version detection for AMD GPU users
- **Template Updates**: Enhanced project templates for custom node development

These updates strengthen ComfyUI's foundation for complex AI workflows while making the platform more accessible to new users through improved documentation and helper tools.

</Update>
