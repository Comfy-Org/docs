---
title: "Changelog"
description: "Track ComfyUI's latest features, improvements, and bug fixes"
icon: "clock-rotate-left"
---

<Update label="v0.3.51" description="December 31, 2024">

**Major Model Support & Context Window Enhancements**

This comprehensive release introduces groundbreaking model support and sampling improvements that significantly expand ComfyUI's capabilities for advanced AI workflows:

**Revolutionary Model Integration**
- **Qwen Image & Edit Model Support**: Complete implementation of Qwen vision-language models with dedicated editing capabilities, enabling sophisticated image understanding and manipulation workflows
- **FluxKontextMultiReferenceLatentMethod Node**: New advanced node for multi-reference latent processing in Flux workflows, providing enhanced control over generation consistency
- **WAN 2.2 Camera Model**: Implementation of WAN 2.2 camera functionality, bringing professional camera control features to video generation workflows

**Core Sampling Architecture Improvements**
- **Context Window Support**: Major enhancement to core sampling code with robust context window support, enabling processing of longer sequences and more complex generation tasks
- **SDPA Backend Priority**: Optimized Scaled Dot Product Attention backend prioritization for improved performance across different hardware configurations
- **Robust Context Step Detection**: Significantly improved context step index detection algorithms for more reliable long-form content generation

**Audio & Multimedia Capabilities**
- **Audio Recording Node**: New native audio recording functionality, transforming ComfyUI into a comprehensive multimedia creation platform
- **Audio Video (AV) Integration**: Essential audio-video dependencies now fully integrated for seamless multimedia workflow creation

**API & External Service Enhancements**
- **GPT-5 Series Models**: Support for the latest GPT-5 model series through enhanced API nodes
- **Kling V2-1 & V2-1-Master**: Updated Kling video generation models with improved capabilities
- **Minimax Hailuo Video Node**: New video generation node expanding creative possibilities
- **Vidu Video Nodes**: Additional video processing capabilities for diverse content creation
- **Google Model Updates**: Release versions of Google's latest models for enhanced AI workflows

**Performance & Stability Optimizations**
- **XPU iGPU Regression Fixes**: Resolved Intel integrated GPU compatibility issues, restoring performance for Intel Arc users
- **PyTorch Compatibility**: Enhanced backward compatibility with older PyTorch versions while maintaining modern features
- **Torch Compile Optimization**: Improved torch compile behavior to avoid graph breaks on older PyTorch installations
- **Memory Management**: Optimized portable installation size and improved memory efficiency

**Developer Experience Enhancements**
- **Frontend Version 1.25.9**: Updated user interface with improved stability and user experience features
- **Template Updates**: Bumped to version 0.1.62 with enhanced node templates and documentation
- **Node Schema V3**: Converted WAN nodes to the modern V3 schema for improved reliability and performance
- **OpenAI API Improvements**: Fixed MIME type handling for multipart uploads in OpenAI GPT Image nodes

**Workflow Benefits**
- **Advanced Image Editing**: Qwen edit models enable sophisticated image modification workflows with natural language instructions
- **Long-Form Generation**: Context window enhancements allow for extended creative projects and complex narrative generation
- **Professional Video Production**: WAN 2.2 camera controls and multiple video API options provide broadcast-quality video creation capabilities
- **Multimedia Integration**: Native audio recording and AV support create comprehensive multimedia production workflows
- **Hardware Optimization**: Improved compatibility across Intel, AMD, and NVIDIA hardware configurations
- **API Flexibility**: Expanded external service integration enables hybrid workflows combining local and cloud-based AI models

</Update>

<Update label="v0.3.50" description="August 13, 2025">

**Model Integration & Performance Enhancements**

This release expands ComfyUI's model ecosystem with enhanced Qwen support, async API capabilities, and stability improvements for complex workflows:

**Qwen Model Ecosystem**
- **Qwen Image Model Support**: Improved integration including proper LoRA loading and model merging capabilities for sophisticated vision workflows
- **Qwen Model Merging Node**: New dedicated node for merging Qwen image models, allowing creators to combine different model strengths
- **SimpleTuner Lycoris LoRA Support**: Extended compatibility with SimpleTuner-trained Lycoris LoRAs for Qwen-Image models

**API & Performance Infrastructure**
- **Async API Nodes**: Introduction of asynchronous API nodes, enabling non-blocking workflow execution for better performance
- **Memory Handling**: Enhanced RepeatLatentBatch node now properly handles multi-dimensional latents, fixing workflow interruptions
- **WAN 2.2 Fun Control Support**: Added support for WAN 2.2 fun control features, expanding creative control for video workflows

**Hardware Optimization & Compatibility**
- **AMD GPU Improvements**: Enhanced AMD Radeon support with improved FP16 accuracy handling and performance optimization
- **RDNA3 Architecture Fixes**: Resolved issues with gfx1201 GPUs when using Flux models with PyTorch attention
- **Updated PyTorch Support**: Bumped CUDA and ROCM PyTorch versions with testing on Python 3.13 and CUDA 12.9

**Developer Experience Enhancements**
- **Cleaner Logging**: Feature flags now only display in verbose mode, reducing console noise
- **Audio Processing Safety**: Enhanced torchaudio import safety checks prevent crashes when audio dependencies are unavailable
- **Kling API Improvements**: Fixed image type parameter handling in Kling Image API nodes

**Workflow Benefits**
- **Async Workflow Execution**: New async API capabilities enable more responsive workflows when integrating external services
- **Model Flexibility**: Expanded Qwen support allows for more diverse vision-language workflows with improved LoRA compatibility
- **Hardware Utilization**: AMD GPU optimizations and updated PyTorch support improve performance across hardware configurations
- **Batch Processing**: Fixed RepeatLatentBatch ensures reliable operation with complex multi-dimensional data structures
- **Video Control**: WAN 2.2 fun control features provide advanced creative control for video generation workflows

</Update>

<Update label="v0.3.49" description="August 5, 2025">

**UI Experience & Model Support**

This release brings user experience improvements and model support that enhance workflow creation and performance:

**User Interface Enhancements**
- **Recently Used Items API**: New API for tracking recently used items in the interface, streamlining workflow creation
- **Workflow Navigation**: Enhanced user experience with better organization of commonly accessed elements

**Model Integration**
- **Qwen Vision Model Support**: Initial support for Qwen image models with configuration options
- **Image Processing**: Enhanced Qwen model integration allows for more versatile image analysis and generation workflows

**Video Generation**
- **Veo3 Video Generation**: Added Veo3 video generation node with integrated audio support
- **Audio-Visual Synthesis**: Capability combining video and audio generation in a single node

**Performance & Stability Improvements**
- **Memory Management**: Optimized conditional VRAM usage through improved casting and device transfer operations
- **Device Consistency**: Fixes ensuring all conditioning data and context remain on correct devices
- **ControlNet Stability**: Resolved ControlNet compatibility issues, restoring functionality for image control workflows

**Developer & System Enhancements**
- **Error Handling**: Added warnings and crash prevention when conditioning devices don't match
- **Template Updates**: Multiple template version updates (0.1.47, 0.1.48, 0.1.51) maintaining compatibility

**Workflow Benefits**
- **Faster Iteration**: Recently used items API enables quicker workflow assembly and modification
- **Enhanced Creativity**: Qwen vision models open new possibilities for image understanding and manipulation workflows
- **Video Production**: Veo3 integration transforms ComfyUI into a comprehensive multimedia creation platform
- **Reliability**: Memory optimizations and device management fixes ensure stable operation with complex workflows
- **Performance**: Optimized VRAM usage allows for more ambitious projects on systems with limited resources

</Update>

<Update label="v0.3.48" description="August 2, 2025">

**API Enhancement & Performance Optimizations**

This release introduces backend improvements and performance optimizations that enhance workflow execution and node development:

**ComfyAPI Core Framework**
- **ComfyAPI Core v0.0.2**: Update to the core API framework, providing improved stability and extensibility
- **Partial Execution Support**: New backend support for partial workflow execution, enabling efficient processing of multi-stage workflows

**Video Processing Improvements**
- **WAN Camera Memory Optimization**: Enhanced memory management for WAN-based camera workflows, reducing VRAM usage
- **WanFirstLastFrameToVideo Fix**: Resolved issue preventing proper video generation when clip vision components are not available

**Performance & Model Optimizations**
- **VAE Nonlinearity Enhancement**: Replaced manual activation functions with optimized torch.silu in VAE operations
- **WAN VAE Optimizations**: Fine-tuning optimizations for WAN VAE operations, improving processing speed and memory efficiency

**Node Schema Evolution**
- **V3 Node Schema Definition**: Implementation of next-generation node schema system
- **Template Updates**: Multiple template version updates (0.1.44, 0.1.45) ensuring compatibility

**Workflow Development Benefits**
- **Video Workflows**: Improved stability and performance for video generation pipelines
- **Memory Management**: Optimized memory usage patterns enable more complex workflows on systems with limited VRAM
- **API Reliability**: Core API enhancements provide more stable foundation for custom node development
- **Execution Flexibility**: New partial execution capabilities allow for more efficient debugging and development

</Update>
<Update label="v0.3.47" description="July 30, 2025">

**Memory Optimization & Large Model Performance**

This release focuses on memory optimizations for large model workflows, improving performance with WAN 2.2 models and VRAM management:

**WAN 2.2 Model Optimizations**
- **Reduced Memory Footprint**: Eliminated unnecessary memory clones in WAN 2.2 VAE operations, reducing memory usage
- **5B I2V Model Support**: Memory optimization for WAN 2.2 5B image-to-video models, making these models more accessible

**Enhanced VRAM Management**
- **Windows Large Card Support**: Added reserved VRAM allocation for high-end graphics cards on Windows
- **Memory Allocation**: Improved memory management for users working with multiple large models simultaneously

**Workflow Performance Benefits**
- **VAE Processing**: WAN 2.2 VAE operations now run more efficiently with reduced memory overhead
- **Large Model Inference**: Enhanced stability when working with billion-parameter models
- **Batch Processing**: Memory optimizations enable better handling of batch operations with large models

</Update>

<Update label="v0.3.46" description="July 28, 2025">

**Hardware Acceleration & Audio Processing**

This release expands hardware support and enhances audio processing capabilities:

**Audio Processing Enhancements**
- **PyAV Audio Backend**: Replaced torchaudio.load with PyAV for more reliable audio processing in video workflows
- **Audio Integration**: Enhanced audio handling for multimedia generation workflows

**Hardware Support**
- **Iluvatar CoreX Support**: Added native support for Iluvatar CoreX accelerators
- **Intel XPU Optimization**: XPU support improvements including async offload capabilities
- **AMD ROCm Enhancements**: Enabled PyTorch attention by default for gfx1201 on Torch 2.8
- **CUDA Memory Management**: Fixed CUDA malloc to only activate on CUDA-enabled PyTorch installations

**Sampling Algorithm Improvements**
- **Euler CFG++ Enhancement**: Separated denoised and noise estimation processes in Euler CFG++ sampler
- **WAN Model Support**: Added support for WAN (Wavelet-based Attention Network) models

**Training Features**
- **Training Nodes**: Added algorithm support, gradient accumulation, and optional gradient checkpointing
- **Training Flexibility**: Better memory management and performance optimization for custom model training

**Node & Workflow Enhancements**
- **Moonvalley V2V Node**: Added Moonvalley Marey V2V node with enhanced input validation
- **Negative Prompt Updates**: Improved negative prompt handling for Moonvalley nodes
- **History API Enhancement**: Added map_function parameter to get_history API

**API & System Improvements**
- **Frontend Version Tracking**: Added required_frontend_version parameter in /system_stats API response
- **Device Information**: Enhanced XPU device name printing for better hardware identification
- **Template Updates**: Multiple template updates (0.1.40, 0.1.41) ensuring compatibility

**Developer Experience**
- **Documentation Updates**: Enhanced README with examples and updated model integration guides
- **Line Ending Fixes**: Improved cross-platform compatibility by standardizing line endings
- **Code Cleanup**: Removed deprecated code and optimized components

</Update>

<Update label="v0.3.45" description="July 21, 2025">

**Sampling & Training Improvements**

This release introduces enhancements to sampling algorithms, training capabilities, and node functionality:

**Sampling & Generation Features**
- **SA-Solver Sampler**: New reconstructed SA-Solver sampling algorithm providing enhanced numerical stability
- **Experimental CFGNorm Node**: Classifier-free guidance normalization for improved control over generation quality
- **Nested Dual CFG Support**: Added nested style configuration to DualCFGGuider node
- **SamplingPercentToSigma Node**: New utility node for precise sigma calculation from sampling percentages

**Training Capabilities**
- **Multi Image-Caption Dataset Support**: LoRA training node now handles multiple image-caption datasets simultaneously
- **Training Loop Implementation**: Optimized training algorithms for improved convergence and stability
- **Error Detection**: Added model detection error hints for LoRA operations

**Platform & Performance Improvements**
- **Async Node Support**: Full support for asynchronous node functions with earlier execution optimization
- **Chroma Flexibility**: Un-hardcoded patch_size parameter in Chroma
- **LTXV VAE Decoder**: Switched to improved default padding mode for better image quality
- **Safetensors Memory Management**: Added workaround for mmap issues

**API & Integration Enhancements**
- **Custom Prompt IDs**: API now allows specifying prompt IDs for better workflow tracking
- **Kling API Optimization**: Increased polling timeout to prevent user timeouts
- **History Token Cleanup**: Removed sensitive tokens from history items
- **Python 3.9 Compatibility**: Fixed compatibility issues ensuring broader platform support

**Bug Fixes & Stability**
- **MaskComposite Fixes**: Resolved errors when destination masks have 2 dimensions
- **Fresca Input/Output**: Corrected input and output handling for Fresca model workflows
- **Reference Bug Fixes**: Resolved incorrect reference bugs in Gemini node implementations
- **Line Ending Standardization**: Automated detection and removal of Windows line endings

**Developer Experience**
- **Warning Systems**: Added torch import mistake warnings to catch common configuration issues
- **Template Updates**: Multiple template version updates (0.1.36, 0.1.37, 0.1.39) for improved custom node development
- **Documentation**: Enhanced fast_fp16_accumulation documentation

</Update>

<Update label="v0.3.44" description="July 8, 2025">

**Sampling & Model Control Enhancements**

This release delivers improvements to sampling algorithms and model control systems:

**Sampling Capabilities**
- **TCFG Node**: Enhanced classifier-free guidance control for more nuanced generation control
- **ER-SDE Sampler**: Migrated from VE to VP algorithm with new sampler node
- **Skip Layer Guidance (SLG)**: Implementation for precise layer-level control during inference

**Development Tools**
- **Custom Node Management**: New `--whitelist-custom-nodes` argument pairs with `--disable-all-custom-nodes`
- **Performance Optimizations**: Dual CFG node now optimizes automatically when CFG is 1.0
- **GitHub Actions Integration**: Automated release webhook notifications

**Image Processing Improvements**
- **Transform Nodes**: Added ImageRotate and ImageFlip nodes for enhanced image manipulation
- **ImageColorToMask Fix**: Corrected mask value returns for more accurate color-based masking
- **3D Model Support**: Upload 3D models to custom subfolders for better organization

**Guidance & Conditioning Enhancements**
- **PerpNeg Guider**: Updated with improved pre and post-CFG handling
- **Latent Conditioning Fix**: Resolved issues with conditioning at index > 0 for multi-step workflows
- **Denoising Steps**: Added denoising step support to several samplers

**Platform Stability**
- **PyTorch Compatibility**: Fixed contiguous memory issues with PyTorch nightly builds
- **FP8 Fallback**: Automatic fallback to regular operations when FP8 operations encounter exceptions
- **Audio Processing**: Removed deprecated torchaudio.save function dependencies

**Model Integration**
- **Moonvalley Nodes**: Added native support for Moonvalley model workflows
- **Scheduler Reordering**: Simple scheduler now defaults first
- **Template Updates**: Multiple template version updates (0.1.31-0.1.35)

**Security & Safety**
- **Safe Loading**: Added warnings when loading files unsafely
- **File Validation**: Enhanced checkpoint loading safety measures

</Update>

<Update label="v0.3.43" description="June 30, 2025">

**Model Support & Workflow Reliability**

This release brings improvements to model compatibility and workflow stability:

**Expanded Model Documentation**: Added support documentation for Flux Kontext and Omnigen 2 models
**VAE Encoding Improvements**: Removed unnecessary random noise injection during VAE encoding
**Memory Management Fix**: Resolved a memory estimation bug affecting Kontext model usage

</Update>

<Update label="v0.3.41" description="June 17, 2025">

**Model Support Additions**
- **Cosmos Predict2 Support**: Implementation for text-to-image (2B and 14B models) and image-to-video generation workflows
- **Flux Compatibility**: Chroma Text Encoder now works with regular Flux models
- **LoRA Training Integration**: New native LoRA training node using weight adapter scheme

**Performance & Hardware Optimizations**
- **AMD GPU Enhancements**: Enabled FP8 operations and PyTorch attention on AMD GPUs
- **Apple Silicon Fixes**: Addressed FP16 attention issues on Apple devices
- **Flux Model Stability**: Resolved black image generation issues with certain Flux models

**Sampling Improvements**
- **Rectified Flow Samplers**: Added SEEDS and multistep DPM++ SDE samplers with RF support
- **ModelSamplingContinuousEDM**: New cosmos_rflow option for enhanced sampling control
- **Memory Optimization**: Improved memory estimation for Cosmos models

**Developer & Integration Features**
- **SQLite Database Support**: Enhanced data management capabilities for custom nodes
- **PyProject.toml Integration**: Automatic web folder registration from pyproject files
- **Frontend Flexibility**: Support for semver suffixes and prerelease frontend versions
- **Tokenizer Enhancements**: Configurable min_length settings with tokenizer_data

**Quality of Life Improvements**
- **Kontext Aspect Ratio Fix**: Resolved widget-only limitation
- **SaveLora Consistency**: Standardized filename format across all save nodes
- **Python Version Warnings**: Added alerts for outdated Python installations
- **WebcamCapture Fixes**: Corrected IS_CHANGED signature

</Update>

<Update label="v0.3.40" description="June 5, 2025">

**Workflow Tools & Performance Optimizations**

This release brings new workflow utilities and performance optimizations:

**Workflow Tools**
- **ImageStitch Node**: Concatenate multiple images seamlessly in your workflows
- **GetImageSize Node**: Extract image dimensions with batch processing support
- **Regex Replace Node**: Advanced text manipulation capabilities for workflows

**Model Compatibility**
- **Tensor Handling**: Streamlined list processing makes multi-model workflows more reliable
- **BFL API Optimization**: Refined support for Kontext models with cleaner node interfaces
- **Performance Boost**: Fused multiply-add operations in chroma processing for faster generation

**Developer Experience**
- **Custom Node Support**: Added pyproject.toml support for better dependency management
- **Help Menu Integration**: New help system in the Node Library sidebar
- **API Documentation**: Enhanced API nodes documentation

**Frontend & UI Enhancements**
- **Frontend Updated to v1.21.7**: Stability fixes and performance improvements
- **Custom API Base Support**: Better subpath handling for custom deployment configurations
- **Security Hardening**: XSS vulnerability fixes

**Bug Fixes & Stability**
- **Pillow Compatibility**: Updated deprecated API calls
- **ROCm Support**: Improved version detection for AMD GPU users
- **Template Updates**: Enhanced project templates for custom node development

</Update>