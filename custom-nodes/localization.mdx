---
title: "How to Add Localization Support for ComfyUI Custom Nodes"
sidebarTitle: "Localization"
---

The ComfyUI localization system expects custom nodes to structure their translation files in a specific directory hierarchy within their extension folder.

You can refer to the [ComfyUI-IC-Light-Native](https://github.com/huchenlei/ComfyUI-IC-Light-Native) plugin to understand how to implement localization.

## Directory Structure

Custom nodes should place translation files in a `locales/` directory within their extension folder, with subdirectories for each supported language code.

The expected folder structure is:

```
custom_nodes/  
  your_extension/  
    locales/  
      en/  
        main.json  
        nodeDefs.json  
        commands.json  
        settings.json  
      zh/  
        main.json  
        nodeDefs.json  
        commands.json  
        settings.json  
      [other language codes...]  
```

## Supported Languages
The system supports the following language codes: en (English), zh (Chinese), ru (Russian), ja (Japanese), ko (Korean), fr (French), and es (Spanish).

## Translation File Contents
The system loads four main JSON files per language: [custom_node_manager](https://github.com/comfyanonymous/ComfyUI/blob/master/app/custom_node_manager.py)

### main.json

Contains general UI strings, dialog messages, common labels, and other general interface text. This includes categories like general messages (g), manager-related text (manager), color names (color), context menus (contextMenu), and other UI elements.

### nodeDefs.json

Contains node-specific translations including display names and input/output parameter names. Each node is defined with its class name as the key, containing display_name and inputs with parameter names.

### commands.json

Contains command labels and descriptions for menu items, keyboard shortcuts, and other actionable items in the interface. Each command is identified by a unique key with a label property.

### settings.json

Contains setting names, tooltips, and option labels for configuration items. Each setting includes a name field and optionally tooltip and options for dropdown selections.

## Loading Process

The CustomNodeManager automatically discovers and loads translation files during initialization. It merges translations from multiple custom nodes, with later-loaded extensions potentially overriding earlier ones for conflicting keys. See the related code in [custom_node_manager](https://github.com/comfyanonymous/ComfyUI/blob/master/app/custom_node_manager.py)

The frontend combines these files into a unified translation object where the structure becomes:

```json
{  
  "language_code": {  
    "main": "main.json content",  
    "nodeDefs": "nodeDefs.json content",  
    "commands": "commands.json content",  
    "settings": "settings.json content"  
  }  
}
```

## Integration with Custom Node Web Directory

If your custom node uses the `WEB_DIRECTORY` attribute for custom UI components, place the `locales/` folder within that web directory.

## Notes
- Translation files are optional - the system gracefully handles missing files
- Invalid JSON files are ignored with error logging
- The system uses recursive merging for combining translations from multiple sources
- All translation keys should use consistent naming conventions to avoid conflicts with other extensions


