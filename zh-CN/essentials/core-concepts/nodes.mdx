---
title: "节点"
description: "了解 ComfyUI 中节点的概念。"
icon: "circle"
---

在 ComfyUI 中，节点是我们执行任务的单元，他们是构建好的一个个独立的模块，无论是 **Comfy Core** 还是 **自定义节点** ，每个节点都是一个独立的模块，有着自己独特的功能，节点之间通过连线连接，我们可以像搭乐高积木一样搭建起来复杂的功能。

![Comfy Core K-Sampler 节点](/images/comfy_core/sampling/k_sampler.jpg)

例如在 K-Sampler 节点中，你可以看到它有多个输入和输出，也同时包含多个参数设置，这些参数决定了节点执行的逻辑，它的背后是对应编写好的 Python 逻辑，从而可以让你不用去接触代码就可以完成对应的功能。

<Note>
由于 ComfyUI 仍旧在快速迭代和开发中，我们每天都在持续迭代，所以本文中相关操作的部分，可能会有一定变动或者遗漏，请以实际为准，或者访问[这个 repo](https://github.com/Comfy-Org/ComfyUI)，一起完善文档内容。
</Note>

## 节点之间的连接

在 ComfyUI 中，节点通过[连线](/essentials/core-concepts/links)连接，从而让相同的数据类型在不同的处理单元之间进行流转处理,从而获得最终的结果。

![ComfyUI 节点连线](/images/concepts/node/inpaint.jpg)

每个节点都会接收一些输入内容，然后经过模块处理将他们转换为对应的输出，不同的节点链接之间，必须符合数据类型规定的要求，在 ComfyUI 中，我们使用不同的颜色来区分节点的数据类型,下面是一些基础的数据类型。

![ComfyUI 节点数据类型](/images/concepts/node/data_type.jpg)


| 数据类型           | 颜色     |
|-------------------|---------|
| 扩散模型           | 薰衣草色  |
| CLIP 模型         | 黄色     |
| VAE 模型          | 玫瑰色    |
| 条件化             | 橙色     |
| 潜在图像           | 粉色     |
| 像素图像           | 蓝色     |
| 蒙版              | 绿色     |
| 数字 (整数或浮点数) | 浅绿色    |
| 网格（Mesh）       | 亮绿色    |

随着 ComfyUI 的迭代，我们可能会拓展更多的数据类型，以符合更多场景的需求。

### 节点之间的连接和取消连接

![ComfyUI 节点连接](/images/concepts/node/link_nodes.gif)

连接： 在上一个节点的输出点中拖拽到下一个节点相同颜色的输入中，即可连接
取消连接： 在被输入的端点，点击后鼠标左键拖拽输入，即可取消连接，或者通过连线的中点菜单来取消连接。

## 节点的外观


![节点外观](/images/zh/core-concept/node/node.jpg)

我们为提供了多种样式设置，你可以根据你的需求来设置节点的外观:
- 修改样式
- 双击节点标题修改节点名称
- 通过上下文才当将节点输入在 input 和 组件（widget）之间进行切换
- 通过节点右下角来缩放节点尺寸

<video
  controls
  className="w-full aspect-video"
  src="/images/concepts/node/node_appearance.mp4"
></video>

### 节点标签 Badges

![节点标签](/images/concepts/node/badge.jpg)

我们提供了多个节点标签（Badges）的显示功能，比如：
- 节点ID
- 节点来源

目前 **Comfy Core 节点** 采用小狐狸的图标来展示，自定义节点则采用其名称，你可以在菜单中设置：

![标签设置](/images/zh/core-concept/node/badge_setting.jpg)

## 节点上下文菜单

## 节点选择工具箱

<video
  controls
  className="w-full aspect-video"
  src="/images/concepts/node/selection_toolbox.mp4"
></video>

**节点选择工具箱（Selection tool box）** 是一个为节点提供快速操作的一个浮层工具，当你选中一个节点的时候，它会悬浮在选中的节点上方，通过这个节点你可以：
- 修改节点的颜色
- 快速设置节点为 Bypass 模式(在运行时候不执行)
- 固定节点
- 删除节点

如果你想要关闭这个功能，可以在设置中关闭。

![关闭节点选择工具箱](/images/zh/core-concept/node/setting_selection_toolbox.jpg)