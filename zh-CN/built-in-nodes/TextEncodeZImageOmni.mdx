---
title: "TextEncodeZImageOmni - ComfyUI Built-in Node Documentation"
description: "Complete documentation for the TextEncodeZImageOmni node in ComfyUI. Learn its inputs, outputs, parameters and usage."
sidebarTitle: "TextEncodeZImageOmni"
icon: "circle"
mode: wide
---
> 本文档由 AI 生成。如果您发现任何错误或有改进建议，欢迎贡献！ [在 GitHub 上编辑](https://github.com/Comfy-Org/embedded-docs/blob/main/comfyui_embedded_docs/docs/TextEncodeZImageOmni/zh.md)

TextEncodeZImageOmni 节点是一个高级条件编码节点，可将文本提示词与可选参考图像一同编码为适用于图像生成模型的条件格式。它最多可处理三张图像，可选择使用视觉编码器和/或 VAE 对图像进行编码以生成参考潜变量，并通过特定的模板结构将这些视觉参考与文本提示词进行整合。

## 输入参数

| 参数 | 数据类型 | 必需 | 取值范围 | 描述 |
|-----------|-----------|----------|-------|-------------|
| `clip` | CLIP | 是 | | 用于对文本提示词进行分词和编码的 CLIP 模型。 |
| `image_encoder` | CLIPVision | 否 | | 可选的视觉编码器模型。若提供，将用于编码输入图像，并将生成的嵌入向量添加到条件信息中。 |
| `prompt` | STRING | 是 | | 待编码的文本提示词。此字段支持多行输入和动态提示词。 |
| `auto_resize_images` | BOOLEAN | 否 | | 启用时（默认：True），输入图像在传递给 VAE 编码前会根据其像素面积自动调整尺寸。 |
| `vae` | VAE | 否 | | 可选的 VAE 模型。若提供，将用于将输入图像编码为潜变量表示，这些潜变量将作为参考潜变量添加到条件信息中。 |
| `image1` | IMAGE | 否 | | 第一张可选参考图像。 |
| `image2` | IMAGE | 否 | | 第二张可选参考图像。 |
| `image3` | IMAGE | 否 | | 第三张可选参考图像。 |

**注意：** 该节点最多可接受三张图像（`image1`、`image2`、`image3`）。仅当至少提供一张图像时，`image_encoder` 和 `vae` 输入才会被使用。当 `auto_resize_images` 为 True 且连接了 `vae` 时，图像在编码前会被调整尺寸，使其总像素面积接近 1024x1024。

## 输出参数

| 输出名称 | 数据类型 | 描述 |
|-------------|-----------|-------------|
| `CONDITIONING` | CONDITIONING | 最终的条件输出，包含编码后的文本提示词，若提供了图像，还可能包含编码后的图像嵌入向量和/或参考潜变量。 |
