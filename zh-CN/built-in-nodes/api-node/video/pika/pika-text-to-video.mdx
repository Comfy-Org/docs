---
title: "Pika 2.2 Text to Video - ComfyUI 原生节点文档"
description: "使用Pika的AI技术将文本描述转换为视频的节点"
sidebarTitle: "Pika 2.2 Text to Video"
icon: "circle"
---

![ComfyUI 原生 Pika 2.2 Text to Video 节点](/images/built-in-nodes/api_nodes/pika/pika-2-2-text-to-video.jpg)

Pika 2.2 Text to Video 节点允许你使用Pika最新的2.2版本API，通过文本描述创建高质量、连贯的视频内容。

## 节点功能

此节点连接到Pika的文本到视频API，让用户能够通过详细的文本提示词生成动态视频内容。节点提供多种参数控制，包括视频分辨率、持续时间和宽高比等，以满足不同的创作需求。

## 参数说明

### 基本参数

| 参数             | 类型     | 默认值               | 说明                           |
|-----------------|----------|---------------------|-------------------------------|
| prompt_text     | 字符串    | ""                  | 描述要生成视频内容的文本提示词     |
| negative_prompt | 字符串    | ""                  | 指定不希望在视频中出现的元素       |
| seed            | 整数      | 0                   | 生成过程的随机种子               |
| resolution      | 选择项    | "Resolution.1152_2048" | 生成视频的分辨率              |
| duration        | 选择项    | "Duration.four_seconds" | 生成视频的持续时间           |
| aspect_ratio    | 选择项    | "9:16"              | 输出视频的宽高比                 |

### 输出

| 输出   | 类型   | 说明          |
|--------|--------|--------------|
| VIDEO  | 视频   | 生成的视频结果 |

## 工作原理

Pika 2.2 Text to Video 节点分析用户提供的文本提示词，通过Pika的生成模型创建相应的视频序列。节点将请求发送到Pika的API服务器，处理完成后返回生成的视频结果。

用户可以通过调整各种参数来控制生成结果，包括负面提示词、随机种子、视频分辨率和持续时间等。不同的分辨率和宽高比选项可以满足不同的应用场景需求。

## 源码参考

```python

class PikaTextToVideoNodeV2_2(PikaNodeBase):
    """Pika 2.2 Text to Video Node."""

    @classmethod
    def INPUT_TYPES(cls):
        return {
            "required": {
                **cls.get_base_inputs_types(PikaBodyGenerate22T2vGenerate22T2vPost),
                "aspect_ratio": model_field_to_node_input(
                    IO.FLOAT,
                    PikaBodyGenerate22T2vGenerate22T2vPost,
                    "aspectRatio",
                    step=0.001,
                    min=0.4,
                    max=2.5,
                    default=1.7777777777777777,
                ),
            },
            "hidden": {
                "auth_token": "AUTH_TOKEN_COMFY_ORG",
            },
        }

    RETURN_TYPES = ("VIDEO",)
    DESCRIPTION = "Sends a text prompt to the Pika API v2.2 to generate a video."

    def api_call(
        self,
        prompt_text: str,
        negative_prompt: str,
        seed: int,
        resolution: str,
        duration: int,
        aspect_ratio: float,
        auth_token: Optional[str] = None,
    ) -> tuple[VideoFromFile]:
        """API call for Pika 2.2 Text to Video."""
        initial_operation = SynchronousOperation(
            endpoint=ApiEndpoint(
                path=PATH_TEXT_TO_VIDEO,
                method=HttpMethod.POST,
                request_model=PikaBodyGenerate22T2vGenerate22T2vPost,
                response_model=PikaGenerateResponse,
            ),
            request=PikaBodyGenerate22T2vGenerate22T2vPost(
                promptText=prompt_text,
                negativePrompt=negative_prompt,
                seed=seed,
                resolution=resolution,
                duration=duration,
                aspectRatio=aspect_ratio,
            ),
            auth_token=auth_token,
            content_type="application/x-www-form-urlencoded",
        )

        return self.execute_task(initial_operation, auth_token)


``` 