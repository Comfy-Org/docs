---
title: "如何在不同系统上手动安装 ComfyUI"
description: "本部分将指导你完成在 Windows、MacOS 以及 Linux 的手动安装过程"
icon: "wrench"
sidebarTitle: "手动安装"
---

import GitClone from "/snippets/zh/git-clone.mdx";
import Conda from "/snippets/zh/conda.mdx";
import PipInstall from "/snippets/zh/pip-install.mdx";
import InstallGpuDependencies from "/snippets/zh/install-gpu-dependencies.mdx";
import RunComfy from "/snippets/zh/run-comfy.mdx";
import AddExternalModels from "/snippets/zh/install/add-external-models.mdx"

对于 ComfyUI 的安装， 主要分为几个步骤
1. 创建一个虚拟环境(避免污染系统级 Python 环境)
2. 克隆 ComfyUI 代码仓库
3. 安装依赖
4. 启动 ComfyUI

<Note>
Python 3.13 支持非常好。如果你在 3.13 上遇到某些自定义节点依赖问题，可以尝试使用 3.12。

Python 3.14 可以工作，但需要在 requirements.txt 文件中注释掉 `kornia` 依赖（会导致 canny 节点失效），不建议使用。
</Note>

你也可以参考 [ComfyUI CLI](/zh-CN/comfy-cli/getting-started) 来安装 ComfyUI, 它是一个命令行工具，可以方便地安装 ComfyUI 并管理其依赖。

## （可选）创建虚拟环境

<Tip>
独立的虚拟环境是必要的，因为 ComfyUI 的依赖可能会与系统上的其他依赖冲突，也可以避免对系统级 Python 环境的污染。
</Tip>
<Conda />

## 克隆代码仓库

你需要保证你的系统上已经安装了 [Git](https://git-scm.com/downloads), 首先你需要打开终端（命令行）,然后克隆代码仓库。

<Tabs>
<Tab title="Windows">
<Warning>如果你还没有安装 Microsoft Visual C++ Redistributable，请在[这里安装](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170)</Warning>
</Tab>
<Tab title="Linux">
打开终端应用程序。
</Tab>
<Tab title="MacOS">
打开[终端应用程序](https://support.apple.com/guide/terminal/open-or-quit-terminal-apd5265185d-f365-44cb-8b09-71a064a42125/mac)。
</Tab>
</Tabs>

```bash
git clone git@github.com:comfyanonymous/ComfyUI.git
```


## 安装GPU 及 ComfyUI 依赖
<Steps>
    <Step title="安装 GPU 依赖">
   <InstallGpuDependencies />
    </Step>
    <Step title="安装 ComfyUI 依赖">
    <PipInstall />
    </Step>
    <Step title="启动 ComfyUI">
    <RunComfy />
    </Step>
</Steps>

## 如何更新 ComfyUI

<Steps>
    <Step title="拉取最新代码">
    使用命令行进入 ComfyUI 的安装路径，然后拉取最新代码。
    ```bash
    cd <安装路径>/ComfyUI
    git pull
    ```
    </Step>
    <Step title="安装依赖">
    使用命令行进入 ComfyUI 的安装路径，然后安装依赖。
    <Warning>
    你需要确保当前的 Python 环境是 ComfyUI 的虚拟环境，否则依赖会安装到系统级 Python 环境，污染系统级 Python 环境。
    </Warning>
    ```bash
        pip install -r requirements.txt
    ```
    </Step>
</Steps>

<AddExternalModels/>