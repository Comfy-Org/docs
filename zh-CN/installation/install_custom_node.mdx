---
title: "如何在 ComfyUI 中安装自定义节点"
description: "本部分将指导你如何使用不同的方式来进行 ComfyUI 自定义节点的安装"
sidebarTitle: "安装自定义节点"
icon: "puzzle-piece"
---

## 什么是自定义节点？

自定义节点是ComfyUI的扩展插件，能够增加新功能，如高级图像处理、机器学习微调、颜色调整等。这些节点由社区开发，可显著扩展ComfyUI的基础功能。

<Warning>
在安装自定义节点前，你有必要对自定义节点进行审查，由于 ComfyUI 是一个开源项目，也有可能存在恶意利用自定义节点进行攻击的插件
1. 请只安装来自可信作者和社区常用的自定义节点
2. 在安装前了解插件功能，避免安装不明来源的插件以确保系统安全
3. 避免安装冷门插件和来路不明的插件，未经审核的插件可能存在安全风险,进而导致你的电脑被黑客入侵。
</Warning>

所有的自定义节点安装都需要完成下面的两个步骤：

1. 克隆节点代码到 `custom_nodes` 目录
2. 安装对应的 Python 依赖

在本文中我们将介绍三种安装方法，下面是对应的优缺点对比，由于目前 [ComfyUI Manager](https://github.com/Comfy-Org/ComfyUI-Manager) 还未正式加入到核心依赖中，但在未来 ComfyUI Manager 将会成为核心依赖的一部分，但本部分的指南仍旧提供了其它安装插件的指南,以便满足你的需求。

| 方法                        | 优点                                             | 缺点                                                   | 
| -------------------------- | ------------------------------------------------ | ----------------------------------------------------- |
| **ComfyUI Manager** (推荐) | 1. 自动化安装<br/>2. 依赖处理<br/>3. 图形界面         | 不在 registry 中注册的节点无法通过 Manager 直接搜索到       |
| **Git 克隆**               | 可以安装不在 registry 中注册的节点                    | 1. 需要Git知识<br/>2. 手动处理依赖<br/>3. 存在安装风险      |
| **代码仓库 ZIP 下载**        | 1. 无需Git<br/>2. 手动处理一切                     | 1. 需要手动处理依赖<br/>2. 无版本控制<br/>3. 存在安装风险    |

## 方法一：ComfyUI Manager（推荐）

<Tabs>
  <Tab title="已经安装了 ComfyUI Manager">

   1. 点击ComfyUI界面的"Manager"按钮
   2. 选择"Install Custom Nodes"
   3. 在搜索框中输入节点名称
   4. 点击对应节点的"Install"按钮
   5. 安装完成后重启ComfyUI并刷新浏览器

  </Tab>
  <Tab title="未安装 ComfyUI Manager">
 对于 Portable 和自动安装的用户，请参考下面的方法二和三进行安装 ComfyUI Manager
  </Tab>
</Tabs>

## 方法二：使用 Git 进行安装手动安装

适用于Manager中找不到的新节点或需要特定版本时。

### 安装步骤

1. **获取仓库URL**：在GitHub页面点击"Code"按钮复制HTTPS链接
2. **进入custom_nodes目录**：
   ```bash
   cd /path/to/ComfyUI/custom_nodes
   ```
3. **克隆仓库**：
   ```bash
   git clone [仓库URL]
   ```
4. **安装依赖**（重要）：
   ```bash
   cd [节点目录名]
   pip install -r requirements.txt
   ```
   
   **Windows便携版用户**需使用：
   ```bash
   python_embeded\python.exe -m pip install -r ComfyUI\custom_nodes\[节点目录名]\requirements.txt
   ```

5. **重启ComfyUI并刷新浏览器**

## 方法三：ZIP下载安装

最基础的安装方法，不推荐日常使用。

### 安装步骤

1. 在GitHub页面点击"Code" → "Download ZIP"
2. 解压ZIP文件
3. 将解压后的文件夹复制到`ComfyUI/custom_nodes/`目录
4. 手动安装依赖项（同Git方法的第4步）
5. 重启ComfyUI并刷新浏览器

## 依赖管理

### 自动处理（Manager）
ComfyUI Manager会自动：
- 检测`requirements.txt`文件
- 安装所有Python依赖
- 执行`install.py`脚本（如果存在）

### 手动处理
使用Git或ZIP方法时，必须手动安装依赖：

```bash
# 标准方法
pip install -r requirements.txt

# Windows便携版
python_embeded\python.exe -m pip install -r requirements.txt
```

### 解决依赖冲突

常见问题及解决方案：

- **版本冲突**：修改`requirements.txt`使用范围版本（如`>=1.0`而非`==1.0`）
- **环境污染**：逐一安装节点，每次安装后重启测试
- **Python版本不匹配**：检查节点GitHub页面的兼容性要求

## 重要的安装后步骤

无论使用哪种方法，安装后都必须：

1. **完全重启ComfyUI应用程序**
2. **硬刷新浏览器缓存**（Ctrl+F5 或 Cmd+R）

这两步确保服务器端和客户端都识别新安装的节点。

## 常见问题排查

| 问题           | 症状                          | 解决方案                              |
| -------------- | ----------------------------- | ------------------------------------- |
| **缺失模块**   | 终端显示`ModuleNotFoundError` | 检查并安装`requirements.txt`中的依赖  |
| **节点不显示** | 界面中看不到新节点            | 确认文件放置位置正确，重启+刷新浏览器 |
| **版本冲突**   | 节点无法正常工作              | 检查Python版本兼容性，更新ComfyUI     |
| **依赖冲突**   | Manager显示冲突警告           | 修改依赖版本范围或联系开发者          |

## 关键文件说明

| 文件               | 作用                     |
| ------------------ | ------------------------ |
| `requirements.txt` | 列出所需Python依赖       |
| `__init__.py`      | 标记为Python包，必需文件 |
| `install.py`       | 安装时执行的脚本         |
| `node_list.json`   | 非标准节点的配置文件     |

