---
title: "ComfyUI åŸç”Ÿç‰ˆæœ¬ HiDream-E1, E1.1 å·¥ä½œæµç¤ºä¾‹"
sidebarTitle: "HiDream-e1"
description: "æœ¬ç¯‡å°†å¼•å¯¼äº†è§£å¹¶å®Œæˆ ComfyUI åŸç”Ÿç‰ˆæœ¬ HiDream-I1 æ–‡ç”Ÿå›¾å·¥ä½œæµå®ä¾‹"
---

import UpdateReminder from '/snippets/zh/tutorials/update-reminder.mdx'

![HiDream-E1 æ¼”ç¤º](https://raw.githubusercontent.com/HiDream-ai/HiDream-E1/refs/heads/main/assets/demo.jpg)

HiDream-E1 æ˜¯æ™ºè±¡æœªæ¥(HiDream-ai) æ­£å¼å¼€æºçš„äº¤äº’å¼å›¾åƒç¼–è¾‘å¤§æ¨¡å‹ï¼Œæ˜¯åŸºäº HiDream-I1 æ„å»ºçš„å›¾åƒç¼–è¾‘æ¨¡å‹ã€‚

å¯ä»¥ä½¿ç”¨è‡ªç„¶è¯­è¨€æ¥å®ç°å¯¹å›¾åƒçš„ç¼–è¾‘ï¼Œè¯¥æ¨¡å‹åŸºäº [MIT è®¸å¯è¯](https://github.com/HiDream-ai/HiDream-E1?tab=MIT-1-ov-file) å‘å¸ƒï¼Œæ”¯æŒç”¨äºä¸ªäººé¡¹ç›®ã€ç§‘å­¦ç ”ç©¶ä»¥åŠå•†ç”¨ã€‚
é€šè¿‡ä¸æ­¤å‰å‘å¸ƒçš„ [hidream-i1](/zh-CN/tutorials/image/hidream/hidream-i1)çš„å…±åŒç»„åˆï¼Œå®ç°äº† **ä»å›¾åƒç”Ÿæˆåˆ°ç¼–è¾‘çš„** åˆ›ä½œèƒ½åŠ›ã€‚

| åç§°               | æ›´æ–°æ—¶é—´           | æ¨ç†æ­¥æ•°  | åˆ†è¾¨ç‡              | HuggingFace ä»“åº“         |
|-------------------|-------------------|----------|--------------------|--------------------------|
| HiDream-E1-Full   | 2025-4-28         | 28       | 768x768            | ğŸ¤— [HiDream-E1-Full](https://huggingface.co/HiDream-ai/HiDream-E1-Full)        |
| HiDream-E1.1      | 2025-7-16         | 28       | åŠ¨æ€ï¼ˆ1ç™¾ä¸‡åƒç´ ï¼‰     | ğŸ¤— [HiDream-E1.1](https://huggingface.co/HiDream-ai/HiDream-E1-1)           |

[HiDream E1 - Github](https://github.com/HiDream-ai/HiDream-E1)

<UpdateReminder/>

## HiDream E1 åŠ E1.1 å·¥ä½œæµç›¸å…³æ¨¡å‹

æœ¬ç¯‡æŒ‡å—æ¶‰åŠçš„æ‰€æœ‰æ¨¡å‹ä½ éƒ½å¯ä»¥åœ¨[è¿™é‡Œ](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/tree/main/split_files)æ‰¾åˆ°, E1, E1.1 é™¤äº† Diffusion model ä¹‹å¤–éƒ½æ˜¯ç”¨ç›¸åŒçš„æ¨¡å‹
æˆ‘ä»¬åœ¨å¯¹åº”çš„å·¥ä½œæµæ–‡ä»¶ä¸­ä¹Ÿä»¥åŒ…å«äº†å¯¹åº”çš„æ¨¡å‹ä¿¡æ¯ï¼Œä½ å¯ä»¥é€‰æ‹©æ‰‹åŠ¨ä¸‹è½½æ¨¡å‹ä¿å­˜ï¼Œæˆ–è€…åœ¨åŠ è½½å·¥ä½œæµåæŒ‰å·¥ä½œæµæç¤ºè¿›è¡Œä¸‹è½½ï¼Œæ¨èä½¿ç”¨ E1.1

è¿™ä¸ªæ¨¡å‹çš„è¿è¡Œå¯¹æ˜¾å­˜å ç”¨è¦æ±‚æé«˜ï¼Œå…·ä½“æ˜¾å­˜å ç”¨è¯·å‚è€ƒå¯¹åº”éƒ¨åˆ†çš„è¯´æ˜

**Diffusion Model**

ä½ ä¸ç”¨åŒæ—¶ä¸‹è½½è¿™ä¸¤ä¸ªæ¨¡å‹ï¼Œç”±äº E1.1 æ˜¯åŸºäº E1 çš„è¿­ä»£ç‰ˆæœ¬ï¼Œåœ¨å®é™…æµ‹è¯•ä¸­å®ƒçš„è´¨é‡å’Œæ•ˆæœè¾ƒ E1 éƒ½æœ‰è¾ƒå¤§æå‡
- [hidream_e1_1_bf16.safetensors(æ¨è)](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/resolve/main/split_files/diffusion_models/hidream_e1_1_bf16.safetensors) 34.2GB
- [hidream_e1_full_bf16.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/resolve/main/split_files/diffusion_models/hidream_e1_full_bf16.safetensors) 34.2GB

**Text Encoder**ï¼š

- [clip_l_hidream.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/text_encoders/clip_l_hidream.safetensors) 236.12MB
- [clip_g_hidream.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/text_encoders/clip_g_hidream.safetensors) 1.29GB
- [t5xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/text_encoders/t5xxl_fp8_e4m3fn_scaled.safetensors) 4.8GB
- [llama_3.1_8b_instruct_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/text_encoders/llama_3.1_8b_instruct_fp8_scaled.safetensors) 8.46GB

**VAE**
- [ae.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/vae/ae.safetensors) 319.77MB
> è¿™ä¸ªæ˜¯ Flux çš„ VAE æ¨¡å‹ï¼Œå¦‚æœä½ ä¹‹å‰ä½¿ç”¨è¿‡ Flux çš„å·¥ä½œæµï¼Œä½ å¯èƒ½å·²ç»ä¸‹è½½äº†è¿™ä¸ªæ–‡ä»¶ã€‚

æ–‡ä»¶ä¿å­˜ä½ç½®

```
ğŸ“‚ ComfyUI/
â”œâ”€â”€ ğŸ“‚ models/
â”‚   â”œâ”€â”€ ğŸ“‚ text_encoders/
â”‚   â”‚   â”œâ”€â”€â”€ clip_l_hidream.safetensors
â”‚   â”‚   â”œâ”€â”€â”€ clip_g_hidream.safetensors
â”‚   â”‚   â”œâ”€â”€â”€ t5xxl_fp8_e4m3fn_scaled.safetensors
â”‚   â”‚   â””â”€â”€â”€ llama_3.1_8b_instruct_fp8_scaled.safetensors
â”‚   â””â”€â”€ ğŸ“‚ vae/
â”‚   â”‚   â””â”€â”€ ae.safetensors
â”‚   â””â”€â”€ ğŸ“‚ diffusion_models/
â”‚       â”œâ”€â”€ hidream_e1_1_bf16.safetensors
â”‚       â””â”€â”€ hidream_e1_full_bf16.safetensors
```

## HiDream E1.1 ComfyUI åŸç”Ÿå·¥ä½œæµç¤ºä¾‹

E1.1 æ˜¯äº 2025å¹´7æœˆ16æ—¥æ›´æ–°è¿­ä»£çš„ç‰ˆæœ¬, è¿™ä¸ªç‰ˆæœ¬æ”¯æŒåŠ¨æ€ä¸€ç™¾ä¸‡åˆ†è¾¨ç‡ï¼Œåœ¨å·¥ä½œæµä¸­ä½¿ç”¨äº† `Scale Image to Total Pixels` èŠ‚ç‚¹æ¥å°†è¾“å…¥å›¾ç‰‡åŠ¨æ€è°ƒæ•´ä¸º 1ç™¾ä¸‡åƒç´ 

<Tip>
è¿™é‡Œæ˜¯åœ¨æµ‹è¯•ä½¿ç”¨æ—¶å¯¹åº”çš„æ˜¾å­˜å ç”¨å‚è€ƒï¼š
1. A100 40GB (VRAM ä½¿ç”¨ç‡ 95%)ï¼šç¬¬ä¸€æ¬¡ç”Ÿæˆ: 211sï¼Œç¬¬äºŒæ¬¡ç”Ÿæˆ: 73s

2. 4090D 24GB (VRAM ä½¿ç”¨ç‡ 98%)
- å®Œæ•´ç‰ˆæœ¬: Out of memory
- FP8_e4m3fn_fast (VRAM 98%) ç¬¬ä¸€æ¬¡ç”Ÿæˆ: 120sï¼Œ ç¬¬äºŒæ¬¡ç”Ÿæˆ: 91s 
</Tip>

### 1. HiDream E1.1 å·¥ä½œæµåŠç›¸å…³ç´ æ

ä¸‹è½½ä¸‹é¢çš„å›¾ç‰‡å¹¶æ‹–å…¥ ComfyUI å·²åŠ è½½å¯¹åº”å·¥ä½œæµåŠæ¨¡å‹
![HiDream E1.1 å·¥ä½œæµ](https://raw.githubusercontent.com/Comfy-Org/example_workflows/refs/heads/main/image/hidream/e1.1/hidream_e1_1.png)

ä¸‹è½½ä¸‹é¢çš„å›¾ç‰‡ä½œä¸ºè¾“å…¥
![HiDream E1.1 å·¥ä½œæµ](https://raw.githubusercontent.com/Comfy-Org/example_workflows/refs/heads/main/image/hidream/e1.1/input.webp)

### 2. æŒ‰æ­¥éª¤å®Œæˆ HiDream-e1 å·¥ä½œæµè¿è¡Œ
![hidream_e1_1_guide](/images/tutorial/image/hidream/hidream-e1-1-guide.jpg)

æŒ‰æ­¥éª¤å®Œæˆå·¥ä½œæµçš„è¿è¡Œ
1. ç¡®ä¿`Load Diffusion Model` èŠ‚ç‚¹åŠ è½½äº† `hidream_e1_1_bf16.safetensors` æ¨¡å‹
2. ç¡®ä¿`QuadrupleCLIPLoader` ä¸­å››ä¸ªå¯¹åº”çš„ text encoder è¢«æ­£ç¡®åŠ è½½
    - clip_l_hidream.safetensors
    - clip_g_hidream.safetensors
    - t5xxl_fp8_e4m3fn_scaled.safetensors
    - llama_3.1_8b_instruct_fp8_scaled.safetensors
3. ç¡®ä¿`Load VAE` èŠ‚ç‚¹ä¸­ä½¿ç”¨çš„æ˜¯ `ae.safetensors` æ–‡ä»¶
4. åœ¨ `Load Image` èŠ‚ç‚¹ä¸­åŠ è½½æä¾›çš„è¾“å…¥æˆ–ä½ éœ€è¦çš„å›¾ç‰‡
5. åœ¨`Empty Text Encoder(Positive)` èŠ‚ç‚¹ä¸­è¾“å…¥ **æƒ³è¦å¯¹å›¾ç‰‡è¿›è¡Œçš„ä¿®æ”¹**
6. åœ¨`Empty Text Encoder(Negative)` èŠ‚ç‚¹ä¸­è¾“å…¥ **ä¸æƒ³è¦åœ¨ç”»é¢ä¸­å‡ºç°çš„å†…å®¹**
7. ç‚¹å‡» `Run` æŒ‰é’®ï¼Œæˆ–è€…ä½¿ç”¨å¿«æ·é”® `Ctrl(cmd) + Enter(å›è½¦)` æ¥æ‰§è¡Œå›¾ç‰‡ç”Ÿæˆ

### 3. å·¥ä½œæµè¡¥å……è¯´æ˜

- ç”±äº HiDream E1.1 æ”¯æŒçš„æ˜¯åŠ¨æ€æ€»åƒç´ ä¸ºä¸€ç™¾ä¸‡åƒç´ è¾“å…¥ï¼Œæ‰€ä»¥å·¥ä½œæµä½¿ç”¨äº† `Scale Image to Total Pixels` æ¥å°†æ‰€æœ‰è¾“å…¥å›¾ç‰‡è¿›è¡Œå¤„ç†è½¬åŒ–ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ¯”ä¾‹å°ºå¯¸ç›¸å¯¹äºè¾“å…¥å›¾ç‰‡ä¼šæœ‰æ‰€å˜åŒ–
- ä½¿ç”¨ fp16 ç‰ˆæœ¬çš„æ¨¡å‹ï¼Œåœ¨å®é™…æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œåœ¨ A100 40GB å’Œ 4090D 24GB æ—¶ä½¿ç”¨å®Œæ•´ç‰ˆæœ¬æ—¶ä¼š Out of memoryï¼Œæ‰€ä»¥å·¥ä½œæµé»˜è®¤è®¾ç½®äº†ä½¿ç”¨ `fp8_e4m3fn_fast` æ¥è¿›è¡Œæ¨ç†

##  HiDream E1 ComfyUI åŸç”Ÿ å·¥ä½œæµç¤ºä¾‹

E1 æ˜¯äº 2025 å¹´ 4 æœˆ 28 æ—¥å‘å¸ƒçš„ï¼Œè¿™ä¸ªæ¨¡å‹åªæ”¯æŒ 768*768 çš„åˆ†è¾¨ç‡

### 1. HiDream-e1 å·¥ä½œæµåŠç›¸å…³ç´ æ

<Tip>
ä¾›å‚è€ƒï¼Œæœ¬æ–‡å·¥ä½œæµåœ¨ Google Colab L4 22.5GBæ˜¾å­˜ä¸‹é‡‡æ ·æ­¥æ•° 28æ­¥é¦–æ¬¡è¿è¡Œæ¶ˆè€— 500s,ç¬¬äºŒæ¬¡è¿è¡Œæ¶ˆè€— 370sã€‚
</Tip>

#### 1.1 ä¸‹è½½å·¥ä½œæµæ–‡ä»¶

è¯·ä¸‹è½½ä¸‹é¢çš„å›¾ç‰‡å¹¶æ‹–å…¥ ComfyUI ä¸­ï¼Œå·¥ä½œæµå·²åŒ…å«æ¨¡å‹ä¸‹è½½ä¿¡æ¯ï¼ŒåŠ è½½åå°†ä¼šæç¤ºä½ è¿›è¡Œå¯¹åº”çš„æ¨¡å‹ä¸‹è½½ã€‚

![ComfyUI åŸç”Ÿ HiDream-e1 å·¥ä½œæµ](https://raw.githubusercontent.com/Comfy-Org/example_workflows/main/hidream_e1/hidream_e1_full.png)

#### 1.2 ä¸‹è½½è¾“å…¥å›¾ç‰‡

è¯·ä¸‹è½½ä¸‹é¢çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬å°†ç”¨äºè¾“å…¥

![ComfyUI åŸç”Ÿ HiDream-e1 å·¥ä½œæµ è¾“å…¥å›¾ç‰‡](https://raw.githubusercontent.com/Comfy-Org/example_workflows/main/hidream_e1/input.webp)

### 2. æŒ‰æ­¥éª¤å®Œæˆ HiDream-e1 å·¥ä½œæµè¿è¡Œ

![hidream_e1_full_step_guide](/images/tutorial/advanced/hidream/hidream_e1_full_step_guide.jpg)

æŒ‰æ­¥éª¤å®Œæˆå·¥ä½œæµçš„è¿è¡Œ
1. ç¡®ä¿`Load Diffusion Model` èŠ‚ç‚¹åŠ è½½äº† `hidream_e1_full_bf16.safetensors` æ¨¡å‹
2. ç¡®ä¿`QuadrupleCLIPLoader` ä¸­å››ä¸ªå¯¹åº”çš„ text encoder è¢«æ­£ç¡®åŠ è½½
    - clip_l_hidream.safetensors
    - clip_g_hidream.safetensors
    - t5xxl_fp8_e4m3fn_scaled.safetensors
    - llama_3.1_8b_instruct_fp8_scaled.safetensors
3. ç¡®ä¿`Load VAE` èŠ‚ç‚¹ä¸­ä½¿ç”¨çš„æ˜¯ `ae.safetensors` æ–‡ä»¶
4. åœ¨ `Load Image` èŠ‚ç‚¹ä¸­åŠ è½½æˆ‘ä»¬ä¹‹å‰ä¸‹è½½çš„è¾“å…¥å›¾ç‰‡
5. ï¼ˆé‡è¦ï¼‰åœ¨`Empty Text Encoder(Positive)` èŠ‚ç‚¹ä¸­è¾“å…¥ **æƒ³è¦ä¿®æ”¹çš„ç”»é¢çš„æç¤ºè¯**
6. ç‚¹å‡» `Run` æŒ‰é’®ï¼Œæˆ–è€…ä½¿ç”¨å¿«æ·é”® `Ctrl(cmd) + Enter(å›è½¦)` æ¥æ‰§è¡Œå›¾ç‰‡ç”Ÿæˆ

### ComfyUI HiDream-e1 å·¥ä½œæµè¡¥å……è¯´æ˜

- å¯èƒ½éœ€è¦ä¿®æ”¹å¤šæ¬¡æç¤ºè¯æˆ–è€…è¿›è¡Œå¤šæ¬¡çš„ç”Ÿæˆæ‰èƒ½å¾—åˆ°è¾ƒå¥½çš„ç»“æœ
- è¿™ä¸ªæ¨¡å‹åœ¨æ”¹å˜å›¾ç‰‡é£æ ¼ä¸Šæ¯”è¾ƒéš¾ä¿æŒä¸€è‡´æ€§ï¼Œéœ€è¦å°½å¯èƒ½å®Œå–„æç¤ºè¯
- ç”±äºæ¨¡å‹æ”¯æŒçš„æ˜¯ 768*768 çš„åˆ†è¾¨ç‡ï¼Œåœ¨å®é™…æµ‹è¯•ä¸­è°ƒæ•´è¿‡å…¶å®ƒå°ºå¯¸ï¼Œåœ¨å…¶å®ƒå°ºå¯¸ä¸‹å›¾åƒè¡¨ç°èƒ½åŠ›ä¸ä½³ï¼Œç”šè‡³å·®å¼‚è¾ƒå¤§