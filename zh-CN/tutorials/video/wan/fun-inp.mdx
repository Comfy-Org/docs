---
title: "ComfyUI Wan2.1 Fun InP è§†é¢‘ç¤ºä¾‹"
description: "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨ ComfyUI ä¸­å®Œæˆ Wan2.1 Fun InP è§†é¢‘é¦–å°¾å¸§è§†é¢‘ç”Ÿæˆç¤ºä¾‹"
sidebarTitle: "Wan2.1 Fun InP"
---

import UpdateReminder from '/snippets/zh/tutorials/update-reminder.mdx'

## å…³äº Wan2.1-Fun-InP

Wan-Fun InP æ˜¯é˜¿é‡Œå·´å·´æ¨å‡ºçš„å¼€æºè§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼Œå±äº â€‹â€‹Wan2.1-Funâ€‹â€‹ ç³»åˆ—çš„ä¸€éƒ¨åˆ†ï¼Œä¸“æ³¨äºé€šè¿‡å›¾åƒç”Ÿæˆè§†é¢‘å¹¶å®ç°é¦–å°¾å¸§æ§åˆ¶ã€‚

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- é¦–å°¾å¸§æ§åˆ¶ï¼šæ”¯æŒè¾“å…¥é¦–å¸§å’Œå°¾å¸§å›¾åƒï¼Œç”Ÿæˆä¸­é—´è¿‡æ¸¡è§†é¢‘ï¼Œæå‡è§†é¢‘è¿è´¯æ€§ä¸åˆ›æ„è‡ªç”±åº¦ã€‚ç›¸æ¯”æ—©æœŸç¤¾åŒºç‰ˆæœ¬ï¼Œé˜¿é‡Œå®˜æ–¹æ¨¡å‹çš„ç”Ÿæˆæ•ˆæœæ›´ç¨³å®šä¸”è´¨é‡æ˜¾è‘—æå‡ã€‚
- å¤šåˆ†è¾¨ç‡æ”¯æŒï¼šæ”¯æŒç”Ÿæˆ512Ã—512ã€768Ã—768ã€1024Ã—1024ç­‰åˆ†è¾¨ç‡çš„è§†é¢‘ï¼Œé€‚é…ä¸åŒåœºæ™¯éœ€æ±‚ã€‚


**æ¨¡å‹ç‰ˆæœ¬æ–¹é¢**ï¼š
- 1.3B è½»é‡ç‰ˆï¼šé€‚åˆæœ¬åœ°éƒ¨ç½²å’Œå¿«é€Ÿæ¨ç†ï¼Œå¯¹æ˜¾å­˜è¦æ±‚è¾ƒä½
- 14B é«˜æ€§èƒ½ç‰ˆï¼šæ¨¡å‹ä½“ç§¯è¾¾ 32GB+ï¼Œæ•ˆæœæ›´ä¼˜ä½†éœ€é«˜æ˜¾å­˜æ”¯æŒ

ä¸‹é¢æ˜¯ç›¸å…³æ¨¡å‹æƒé‡å’Œä»£ç ä»“åº“ï¼š

- [Wan2.1-Fun-1.3B-Input](https://huggingface.co/alibaba-pai/Wan2.1-Fun-1.3B-Input)
- [Wan2.1-Fun-14B-Input](https://huggingface.co/alibaba-pai/Wan2.1-Fun-14B-Input)
- ä»£ç ä»“åº“ï¼š[VideoX-Fun](https://github.com/aigc-apps/VideoX-Fun)

<UpdateReminder/>

<Tip>
ç›®å‰ ComfyUI å·²åŸç”Ÿæ”¯æŒäº† Wan2.1 Fun InP æ¨¡å‹ï¼Œåœ¨å¼€å§‹æœ¬ç¯‡æ•™ç¨‹å‰ï¼Œè¯·æ›´æ–°ä½ çš„ ComfyUI ä¿è¯ä½ çš„ç‰ˆæœ¬åœ¨[è¿™ä¸ªæäº¤](https://github.com/comfyanonymous/ComfyUI/commit/0a1f8869c9998bbfcfeb2e97aa96a6d3e0a2b5df)ç‰ˆæœ¬ä¹‹å
</Tip>

## Wan2.1 Fun Control å·¥ä½œæµ

ä¸‹è½½ä¸‹é¢çš„å›¾ç‰‡ï¼Œå¹¶æ‹–å…¥ ComfyUI ä¸­ä»¥åŠ è½½å¯¹åº”çš„å·¥ä½œæµ

![å·¥ä½œæµæ–‡ä»¶](https://raw.githubusercontent.com/Comfy-Org/example_workflows/main/wan2.1_fun_inp/wan2.1_fun_inp.webp)

### 1. å·¥ä½œæµæ–‡ä»¶ä¸‹è½½

### 2. æ‰‹åŠ¨æ¨¡å‹å®‰è£…

å¦‚æœå¯¹åº”çš„è‡ªåŠ¨æ¨¡å‹ä¸‹è½½æ— æ•ˆï¼Œè¯·æ‰‹åŠ¨è¿›è¡Œæ¨¡å‹ä¸‹è½½ï¼Œå¹¶ä¿å­˜åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹

ä¸‹é¢çš„æ¨¡å‹ä½ å¯ä»¥åœ¨ [Wan_2.1_ComfyUI_repackaged](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged) å’Œ [Wan2.1-Fun](https://huggingface.co/collections/alibaba-pai/wan21-fun-67e4fb3b76ca01241eb7e334) æ‰¾åˆ°

**Diffusion models** é€‰æ‹© 1.3B æˆ– 14B, 14B çš„æ–‡ä»¶ä½“ç§¯æ›´å¤§ï¼ˆ32GBï¼‰ä½†æ˜¯å¯¹äºè¿è¡Œæ˜¾å­˜è¦æ±‚ä¹Ÿè¾ƒé«˜ï¼Œ
- [wan2.1_fun_inp_1.3B_bf16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.1_fun_inp_1.3B_bf16.safetensors?download=true)
- [Wan2.1-Fun-14B-InP](https://huggingface.co/alibaba-pai/Wan2.1-Fun-14B-InP/resolve/main/diffusion_pytorch_model.safetensors?download=true)ï¼š å»ºè®®ä¸‹è½½åé‡å‘½åä¸º `Wan2.1-Fun-14B-InP.safetensors`

**Text encoders** é€‰æ‹©ä¸‹é¢ä¸¤ä¸ªæ¨¡å‹ä¸­çš„ä¸€ä¸ªï¼Œfp16 ç²¾åº¦ä½“ç§¯è¾ƒå¤§å¯¹æ€§èƒ½è¦æ±‚é«˜
- [umt5_xxl_fp16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp16.safetensors?download=true)
- [umt5_xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors?download=true)

**VAE**
- [wan_2.1_vae.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors?download=true)

**CLIP Vision** 
- [clip_vision_h.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/clip_vision/clip_vision_h.safetensors?download=true)

æ–‡ä»¶ä¿å­˜ä½ç½®
```
ğŸ“‚ ComfyUI/
â”œâ”€â”€ ğŸ“‚ models/
â”‚   â”œâ”€â”€ ğŸ“‚ diffusion_models/
â”‚   â”‚   â””â”€â”€ wan2.1_fun_inp_1.3B_bf16.safetensors
â”‚   â”œâ”€â”€ ğŸ“‚ text_encoders/
â”‚   â”‚   â””â”€â”€â”€ umt5_xxl_fp8_e4m3fn_scaled.safetensors
â”‚   â””â”€â”€ ğŸ“‚ vae/
â”‚   â”‚   â””â”€â”€ wan_2.1_vae.safetensors
â”‚   â””â”€â”€ ğŸ“‚ clip_vision/
â”‚       â””â”€â”€  clip_vision_h.safetensors                 
```

### 3. æŒ‰æ­¥éª¤å®Œæˆå·¥ä½œæµ

![ComfyUI Wan2.1 Fun Control è§†é¢‘ç”Ÿæˆå·¥ä½œæµæ­¥éª¤å›¾](/images/tutorial/video/wan/fun_inp_flow_diagram.png)

1. ç¡®ä¿ `Load Diffusion Model` èŠ‚ç‚¹åŠ è½½äº† `wan2.1_fun_inp_1.3B_bf16.safetensors`
2. ç¡®ä¿ `Load CLIP` èŠ‚ç‚¹åŠ è½½äº† `umt5_xxl_fp8_e4m3fn_scaled.safetensors`
3. ç¡®ä¿ `Load VAE` èŠ‚ç‚¹åŠ è½½äº† `wan_2.1_vae.safetensors`
4. ç¡®ä¿ `Load CLIP Vision` èŠ‚ç‚¹åŠ è½½äº† `clip_vision_h.safetensors `
5. åœ¨ `Load Image` èŠ‚ç‚¹ï¼ˆå·²è¢«é‡å‘½åä¸º`Start_image`ï¼‰ ä¸Šä¼ èµ·å§‹å¸§
6. åœ¨ç¬¬äºŒä¸ª `Load Image` èŠ‚ç‚¹ä¸Šä¼ ç”¨äºæ§åˆ¶è§†é¢‘ã€‚æ³¨æ„ï¼š ç›®å‰è¿™ä¸ªèŠ‚ç‚¹è¿˜ä¸æ”¯æŒ mp4 åªèƒ½ä½¿ç”¨ Webp è§†é¢‘
7. ï¼ˆå¯é€‰ï¼‰ä¿®æ”¹ Prompt ä½¿ç”¨ä¸­è‹±æ–‡éƒ½å¯ä»¥
8. ï¼ˆå¯é€‰ï¼‰åœ¨ `WanFunInpaintToVideo` ä¿®æ”¹å¯¹åº”è§†é¢‘çš„å°ºå¯¸ï¼Œä¸è¦ä½¿ç”¨è¿‡å¤§çš„å°ºå¯¸
9. ç‚¹å‡» `Run` æŒ‰é’®ï¼Œæˆ–è€…ä½¿ç”¨å¿«æ·é”® `Ctrl(cmd) + Enter(å›è½¦)` æ¥æ‰§è¡Œè§†é¢‘ç”Ÿæˆ

### 4. å·¥ä½œæµè¯´æ˜

<Tip>
è¯·æ³¨æ„è¦ä½¿ç”¨æ­£ç¡®çš„æ¨¡å‹ï¼Œå› ä¸º `wan2.1_fun_inp_1.3B_bf16.safetensors` å’Œ  `wan2.1_fun_control_1.3B_bf16.safetensors` éƒ½ä¿å­˜åœ¨åŒä¸€æ–‡ä»¶å¤¹ï¼ŒåŒæ—¶åç§°åˆæä¸ºç›¸ä¼¼ï¼Œè¯·ç¡®ä¿ä½¿ç”¨äº†æ­£ç¡®çš„æ¨¡å‹ã€‚
</Tip>

- åœ¨ä½“éªŒ Wan Fun InP æ—¶ï¼Œä½ å¯èƒ½éœ€è¦é¢‘ç¹ä¿®æ”¹æç¤ºè¯ï¼Œä»è€Œæ¥ç¡®ä¿å¯¹åº”ç”»é¢çš„è¿‡æ¸¡çš„å‡†ç¡®æ€§

## å…¶å®ƒ Wan2.1 Fun Inp æˆ–è€…è§†é¢‘ç›¸å…³è‡ªå®šä¹‰èŠ‚ç‚¹

- [ComfyUI-VideoHelperSuite](https://github.com/Kosinkadink/ComfyUI-VideoHelperSuite) 
- [ComfyUI-WanVideoWrapper](https://github.com/kijai/ComfyUI-WanVideoWrapper)
- [ComfyUI-KJNodes](https://github.com/kijai/ComfyUI-KJNodes)