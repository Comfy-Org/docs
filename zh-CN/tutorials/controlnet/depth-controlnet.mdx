---
title: "ComfyUI Depth ControlNet 使用示例"
description: "本篇将引导了解基础的 Depth ControlNet 概念，并在 ComfyUI 中完成对应的图像生成"
sidebarTitle: "Depth ControlNet"
---

Depth 图像是一种通过灰度或色彩等级表示场景中物体距离信息的图像。简单来说​越亮的区域（接近白色）表示距离越近，​越暗的区域（接近黑色）表示距离越远。

![Depth 图像](https://raw.githubusercontent.com/Comfy-Org/example_workflows/main/controlnet/depth_input.png)

从这样的图像中我们可以获取到图像中物体的深度信息，从而可以控制图像生成时，图像中物体的远近。

在图像生成中，我们通常会在下面一些场景中使用 Depth 图像：

- 建筑与工业设计：利用 Depth 图，可生成符合真实透视规律的建筑效果图。
- 人像生成：使用 Depth 图控制人物与背景的层次关系，避免手部、面部等近景细节的畸变。
- 室内风格转换：将室内场景的 Depth 图应用到不同风格的室内场景中，生成符合目标风格的图像。
- 产品渲染：通过 Depth 图控制产品与背景的层次关系，或者控制产品的外观轮廓形态等
- 等等

在本篇示例中，我们将引导你完成对应的模型安装并使用 Depth 图像通过 ControlNet 控制生成建筑效果图。

## ComfyUI ControlNet 工作流示例讲解

### 1. 模型安装

请下载以下模型并放置到指定目录中：
- [architecturerealmix_v11.safetensors](https://civitai.com/api/download/models/431755?type=Model&format=SafeTensor&size=full&fp=fp16)
- [control_v11f1p_sd15_depth_fp16.safetensors](https://huggingface.co/comfyanonymous/ControlNet-v1-1_fp16_safetensors/resolve/main/control_v11f1p_sd15_depth_fp16.safetensors?download=true)

```
ComfyUI/
├── models/
│   ├── checkpoints/
│   │   └── architecturerealmix_v11.safetensors
│   └── controlnet/
│       └── control_v11f1p_sd15_depth_fp16.safetensors
```

### 2. ControlNet 工作流素材

请下载下面的工作流图片,并拖入 ComfyUI 以加载工作流

![Depth 工作流](https://raw.githubusercontent.com/Comfy-Org/example_workflows/main/controlnet/depth_controlnet.png)

<Tip>
Metadata 中包含工作流 json 的图片可直接拖入 ComfyUI 或使用菜单 `Workflows` -> `Open（ctrl+o）` 来加载对应的工作流。
该图片已包含对应模型的下载链接，直接拖入 ComfyUI 将会自动提示下载。
</Tip>

请下载下面的图片，我们将会将它作为输入

![Depth 图像](https://raw.githubusercontent.com/Comfy-Org/example_workflows/main/controlnet/depth_input.png)

### 3. 按步骤完成工作流的运行

![ComfyUI 工作流 - Depth ControlNet 流程图](/images/tutorial/controlnet/flow_diagram_depth.jpg)

1. 确保`Load Checkpoint`可以加载 **architecturerealmix_v11.safetensors**
2. 确保`Load ControlNet`可以加载 **control_v11f1p_sd15_depth_fp16.safetensors**
3. 在`Load Image`中点击`Upload` 上传之前提供的 Depth 图像
4. 点击 `Queue` 按钮，或者使用快捷键 `Ctrl(cmd) + Enter(回车)` 来执行图片的生成
