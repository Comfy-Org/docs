---
title: "工作流"
description: "了解 ComfyUI 中工作流及相关概念"
icon: "diagram-project"
---

## 什么是 ComfyUI 的工作流？

在 ComfyUI 中，工作流是负责不同功能的节点相互连接起来的一个节点图，就像搭积木一样，不同功能相互组合，从而实现一个完整的输入到输出的一个完全由用户自定义的程序，而 ComfyUI 你可以把它理解成提供可视化编辑和运行这些工作流的程序。

在下面的图中就是在完成 ComfyUI 安装后默认的工作流示例
![工作流示例](/images/concepts/workflow/workflow.webp)

它包含了几个不同类型的节点：
1. 模型加载节点：用于加载你设备上的模型文件用于驱动生成
2. 文本提示词节点：用于输入文本提示词，实现从文本到内容资产的生成过程
3. 空白潜空间图像：用于指定图像生成尺寸
4. 采样器：根据各个输入条件在潜空间对图像进行采样生成
5. VAE解码器：将潜空间图像解码为像素空间图像
6. 图像保存节点：用于保存生成的图像

类似诸如此类不同功能的节点组合实现了以一个个从简单到复杂的工作流，他们类似一个个不同的小程序

## 可视化编程

像 ComfyUI 这样的基于节点的计算机程序提供了一种传统菜单和按钮驱动应用程序无法实现的强大灵活性。ComfyUI 节点图不受传统计算机应用程序提供的工具的限制。它是一个高级的 **_可视化编程环境_**，允许用户设计复杂的系统，而无需编写程序代码或理解高级数学。

许多其他计算机应用程序也使用相同的节点图范式。示例包括合成应用程序 Nuke、3D 程序 Maya 和 Blender、实时图形引擎 Unreal，以及交互媒体创作程序 Max。

### 更复杂的示例
![复杂工作流](/images/complex_workflow.jpeg)

## 如何保存工作流

### 通过 ComfyUI 生产的资产复现工作流

大多通过 ComfyUI 生成的资产，程序都会自动在文件的 **元数据（metadata）** 中保存 JSON 工作流信息，这意味着，当你没有损失地保存了对应的资产，之后想要重现对应的工作流只需要将他们拖入 ComfyUI 程序即可从文件中读取到这些工作流数据。

### 通过 JSON 格式文件

我们同样也支持以 JSON 格式来保存工作流文件，你可以通过顶部菜单 “工作流” 下的几个子菜单来保存你的工作流文件：
1. **保存**： 将工作流保存至 `ComfyUI/user/default/workflow` 文件夹下
2. **保存为**： 另存一份工作流文件，重新命名，并保存到 `ComfyUI/user/default/workflow` 文件夹下
3. **导出**: 将工作流导出为 JSON 格式文件

保存在用户目录文件夹下的工作流文件，可在 ComfyUI 侧边工作流面板中加载