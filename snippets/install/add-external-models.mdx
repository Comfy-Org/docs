## Adding External Model Paths

If you want to manage your model files outside of `ComfyUI/models`, you may have the following reasons:

- You have multiple ComfyUI instances and want them to share model files to save disk space
- You have different types of GUI programs (such as WebUI) and want them to use the same model files
- Model files cannot be recognized or found

We provide a way to add extra model search paths via the `extra_model_paths.yaml` configuration file.

### Open Config File

<Tabs>
  <Tab title="Portable/Manual Install">
  For portable and manual installations, you can find an example file named `extra_model_paths.yaml.example` in the root directory of ComfyUI:
  ``
  ComfyUI/extra_model_paths.yaml.example
  ``
  Please copy and rename it to `extra_model_paths.yaml` to use it.

  You can also find the config example file [here](https://github.com/comfyanonymous/ComfyUI/blob/master/extra_model_paths.yaml.example)
  
  </Tab>
  <Tab title="Desktop Application">
  If you are using the ComfyUI Desktop application, you can follow the image below to open the extra model config file:

  ![Open Config File](/images/desktop/extra_model_paths.jpg)

  Or open it directly at:

  <Tabs>
    <Tab title="Windows">
      ```
      C:\Users\YourUsername\AppData\Roaming\ComfyUI\extra_models_config.yaml
      ```
    </Tab>
    <Tab title="macOS">
      ```
      ~/Library/Application Support/ComfyUI/extra_models_config.yaml
      ```
    </Tab>
  </Tabs>
  </Tab>
</Tabs>

If the file does not exist, you can create it yourself with any text editor.

### Example Structure

Suppose your model file structure is as follows:

```
📁 your_path/
  ├── 📁models/
  |   ├── 📁 lora/
  |   │   └── xxxxx.safetensors
  |   ├── 📁 checkpoints/
  |   │   └── xxxxx.safetensors
  |   ├── 📁 vae/
  |   │   └── xxxxx.safetensors
  |   └── 📁 controlnet/
  |       └── xxxxx.safetensors
```

### YAML Configuration Example

```
my_custom_config:
  base_path: your_path
  loras: models/lora/
  checkpoints: models/checkpoints/
  vae: models/vae/
  controlnet: models/controlnet/
```

Or you can refer to the default [extra_model_paths.yaml.example](https://github.com/comfyanonymous/ComfyUI/blob/master/extra_model_paths.yaml.example) for more configuration options. After saving, you need to **restart ComfyUI** for the changes to take effect.
