## æ·»åŠ å¤–éƒ¨æ¨¡å‹è·¯å¾„

å¦‚æœä½ æƒ³è¦åœ¨ `ComfyUI/models` ä¹‹å¤–ç®¡ç†ä½ çš„æ¨¡å‹æ–‡ä»¶ï¼Œå¯èƒ½å‡ºäºä»¥ä¸‹åŸå› :

- ä½ æœ‰å¤šä¸ª ComfyUI å®ä¾‹ï¼Œä½ æƒ³è¦è®©è¿™äº›å®ä¾‹å…±äº«æ¨¡å‹æ–‡ä»¶ï¼Œä»è€Œå‡å°‘ç£ç›˜å ç”¨
- ä½ æœ‰å¤šä¸ªä¸åŒçš„ç±»å‹çš„ GUI ç¨‹åºï¼Œå¦‚ï¼šWebUI, ä½ æƒ³è¦ä»–ä»¬å…±ç”¨æ¨¡å‹æ–‡ä»¶
- æ¨¡å‹æ–‡ä»¶æ— æ³•è¢«è¯†åˆ«æˆ–è¯»å–åˆ°

æˆ‘ä»¬æä¾›äº†é€šè¿‡ `extra_model_paths.yaml` é…ç½®æ–‡ä»¶æ¥æ·»åŠ é¢å¤–æ¨¡å‹æœç´¢è·¯å¾„çš„æ–¹æ³•ã€‚

### ä¸åŒ ComfyUI ç‰ˆæœ¬é…ç½®æ–‡ä»¶ä½ç½®

<Tabs>
  <Tab title="Portable åŠè‡ªéƒ¨ç½²">
  å¯¹äº[ä¾¿æºç‰ˆ](/zh-CN/installation/comfyui_portable_windows)å’Œ[æ‰‹åŠ¨å®‰è£…](/zh-CN/installation/manual_install)çš„ ComfyUIç‰ˆæœ¬ï¼Œä½ å¯ä»¥åœ¨ ComfyUI çš„æ ¹ç›®å½•ä¸‹æ‰¾åˆ° `extra_model_paths.yaml.example` çš„ç¤ºä¾‹æ–‡ä»¶
  ```
  ComfyUI/extra_model_paths.yaml.example
  ```
  å¤åˆ¶å¹¶é‡å‘½åä¸º `extra_model_paths.yaml` æ¥ä½¿ç”¨, å¹¶ä¿æŒåœ¨ ComfyUI çš„æ ¹ç›®å½•ä¸‹, è·¯å¾„åº”è¯¥æ˜¯ `ComfyUI/extra_model_paths.yaml`

  ä½ ä¹Ÿå¯ä»¥åœ¨ [è¿™é‡Œ](https://github.com/comfyanonymous/ComfyUI/blob/master/extra_model_paths.yaml.example) æ‰¾åˆ°é…ç½®ç¤ºä¾‹æ–‡ä»¶

  </Tab>
  <Tab title="ComfyUI Desktop">
  å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ ComfyUI æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥å‚è€ƒä¸‹å›¾æ‰“å¼€é¢å¤–æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼š

  ![Open Config File](/images/zh/desktop/extra_model_paths.jpg)

  æˆ–è€…é€šè¿‡ä¸‹é¢çš„ä½ç½®æ‰“å¼€ï¼š

  <Tabs>
    <Tab title="Windows">
      ```
      C:\Users\YourUsername\AppData\Roaming\ComfyUI\extra_models_config.yaml
      ```
    </Tab>
    <Tab title="macOS">
      ```
      ~/Library/Application Support/ComfyUI/extra_models_config.yaml
      ```
    </Tab>
  </Tabs>

  å¯¹åº”çš„é…ç½®æ–‡ä»¶ä¸åº”è¯¥è¢«æ”¹å˜
  </Tab>
</Tabs>

### é…ç½®ç¤ºä¾‹

æ¯”å¦‚ï¼Œä½ éœ€è¦é¢å¤–è®© ComfyUI è¯†åˆ«çš„æ¨¡å‹æ–‡ä»¶ä½äºä¸‹é¢çš„æ–‡ä»¶å¤¹:

```
ğŸ“ YOUR_PATH/
  â”œâ”€â”€ ğŸ“models/
  |   â”œâ”€â”€ ğŸ“ loras/
  |   â”‚   â””â”€â”€ xxxxx.safetensors
  |   â”œâ”€â”€ ğŸ“ checkpoints/
  |   â”‚   â””â”€â”€ xxxxx.safetensors
  |   â”œâ”€â”€ ğŸ“ vae/
  |   â”‚   â””â”€â”€ xxxxx.safetensors
  |   â””â”€â”€ ğŸ“ controlnet/
  |       â””â”€â”€ xxxxx.safetensors
```

é‚£ä¹ˆä½ å¯ä»¥è¿›è¡Œå¦‚ä¸‹çš„é…ç½®æ¥è®© ComfyUI è¯†åˆ«åˆ°ä½ è®¾å¤‡ä¸Šçš„æ¨¡å‹è·¯å¾„

```
my_custom_config:
    base_path: YOUR_PATH
    loras: models/loras/
    checkpoints: models/checkpoints/
    vae: models/vae/
    controlnet: models/controlnet/
```

æˆ–è€…ä½¿ç”¨
```
my_custom_config:
    base_path: YOUR_PATH/models/
    loras: loras
    checkpoints: checkpoints
    vae: vae
    controlnet: controlnet
```

<Warning>
  å¯¹äºæ¡Œé¢ç‰ˆï¼Œè¯·åœ¨åŸæœ‰é…ç½®è·¯å¾„ä¸‹æ–°å¢é…ç½®ï¼Œè€Œä¸è¦†ç›–æ‰å®‰è£…è¿‡ç¨‹ä¸­è‡ªåŠ¨ç”Ÿæˆçš„è·¯å¾„é…ç½®ï¼Œè¯·åœ¨ä¿®æ”¹å‰å¤‡ä»½å¯¹åº”çš„æ–‡ä»¶ï¼Œè¿™æ ·åœ¨ä½ é…ç½®é”™è¯¯æ—¶å¯ä»¥åŠæ—¶æ¢å¤
</Warning>

æˆ–è€…ä½ ä¹Ÿå¯ä»¥å‚è€ƒé»˜è®¤çš„ [extra_model_paths.yaml.example](https://github.com/comfyanonymous/ComfyUI/blob/master/extra_model_paths.yaml.example) æ¥é…ç½®ï¼Œä¿å­˜ä¹‹åï¼Œ éœ€è¦ **é‡å¯ ComfyUI** æ‰èƒ½ç”Ÿæ•ˆã€‚

ä¸‹é¢æ˜¯å®Œæ•´çš„åŸå§‹çš„é…ç½®é…ç½®ç¤ºä¾‹:

```yaml
#Rename this to extra_model_paths.yaml and ComfyUI will load it


#config for a1111 ui
#all you have to do is change the base_path to where yours is installed
a111:
    base_path: path/to/stable-diffusion-webui/

    checkpoints: models/Stable-diffusion
    configs: models/Stable-diffusion
    vae: models/VAE
    loras: |
         models/Lora
         models/LyCORIS
    upscale_models: |
                  models/ESRGAN
                  models/RealESRGAN
                  models/SwinIR
    embeddings: embeddings
    hypernetworks: models/hypernetworks
    controlnet: models/ControlNet

#config for comfyui
#your base path should be either an existing comfy install or a central folder where you store all of your models, loras, etc.

#comfyui:
#     base_path: path/to/comfyui/
#     # You can use is_default to mark that these folders should be listed first, and used as the default dirs for eg downloads
#     #is_default: true
#     checkpoints: models/checkpoints/
#     clip: models/clip/
#     clip_vision: models/clip_vision/
#     configs: models/configs/
#     controlnet: models/controlnet/
#     diffusion_models: |
#                  models/diffusion_models
#                  models/unet
#     embeddings: models/embeddings/
#     loras: models/loras/
#     upscale_models: models/upscale_models/
#     vae: models/vae/

#other_ui:
#    base_path: path/to/ui
#    checkpoints: models/checkpoints
#    gligen: models/gligen
#    custom_nodes: path/custom_nodes

```

### æ·»åŠ é¢å¤–è‡ªå®šä¹‰èŠ‚ç‚¹è·¯å¾„

é™¤äº†æ·»åŠ å¤–éƒ¨æ¨¡å‹ä¹‹å¤–ï¼Œä½ åŒæ ·å¯ä»¥æ·»åŠ ä¸åœ¨ ComfyUI é»˜è®¤è·¯å¾„ä¸‹çš„è‡ªå®šä¹‰èŠ‚ç‚¹è·¯å¾„

<Tip>
  è¯·æ³¨æ„ï¼Œè¿™å¹¶ä¸ä¼šæ”¹å˜è‡ªå®šä¹‰èŠ‚ç‚¹çš„é»˜è®¤å®‰è£…è·¯å¾„ï¼Œåªæ˜¯åœ¨å¯åŠ¨ ComfyUI æ—¶ä¼šå¢åŠ é¢å¤–çš„è·¯å¾„æœç´¢ï¼Œä½ ä»æ—§éœ€è¦åœ¨å¯¹åº”çš„ç¯å¢ƒä¸­å®Œæˆè‡ªå®šä¹‰èŠ‚ç‚¹çš„ä¾èµ–çš„å®‰è£…ï¼Œæ¥ä¿è¯å…¶è¿è¡Œç¯å¢ƒçš„å®Œæ•´æ€§ã€‚
</Tip>

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„é…ç½®ç¤ºä¾‹ï¼ˆMac ç³»ç»Ÿï¼‰ï¼Œè¯·æ ¹æ®ä½ çš„å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ï¼Œå¹¶æ–°å¢åˆ°å¯¹åº”çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä¿å­˜åéœ€è¦ **é‡å¯ ComfyUI** æ‰èƒ½ç”Ÿæ•ˆ:

```yaml
my_custom_nodes:
  custom_nodes: /Users/your_username/Documents/extra_custom_nodes
```