## 桌面端 Python 环境相关

桌面端的安装将在你选择的安装目录下创建一个python 的虚拟环境，通常这是一个隐藏的 `.venv` 文件夹。

如果你需要为 ComfyUI 插件处理相关的依赖则需要在这个环境中进行处理，直接系统系统的命令行会有将对应依赖安装到系统环境的风险，请参考下面的指示完成对应环境的激活。

### 如何使用 桌面端 的 python 环境？

<Tabs>
  <Tab title="Desktop(推荐)">
    你可以使用桌面端自带的终端来使用 python 环境。
    ![ComfyUI 桌面版终端](/images/desktop/desktop_terminal.jpg)
    1. 点击菜单栏的 icon 打开底部面板
    2. 点击 `Terminal` 打开终端
    3. 如果你想要看对应环境的 python 安装位置，可以使用下面的命令
    <Tabs>
      <Tab title="Windows">
      ```
        python -c "import sys; print(sys.executable)"
      ```
      </Tab>
      <Tab title="macOS">
        ```
        which python
        ```
      </Tab>
    </Tabs>

    <Warning>
      除非你了解你当前的操作含义，否则你的操作可能会导致对应环境依赖的问题，请谨慎使用此方式进行操作
    </Warning>
  </Tab>
  <Tab title="Terminal">
    你也可以使用你喜欢的终端来使用 python 环境，但在使用之前需要先激活对应的虚拟环境。

    <Warning>
    在使用其它终端进行操作时，如果你不熟悉相关操作，可能会将对应依赖安装到系统环境，请谨慎使用此方式进行操作
    </Warning>

    ![使用系统来激活环境](/images/desktop/terminal.jpg)

    <Warning>
    在截图中，是一个 macOS 终端的示例。如果你使用的是 Windows，请参考以下步骤在系统上激活虚拟环境。
    </Warning>

    <Steps>
        <Step title="打开终端">
            打开你喜欢的终端，使用 `cd` 命令进入你安装的 ComfyUI 的目录如
            ```
            cd <你的 ComfyUI 安装目录>/ComfyUI
            ```
        </Step>
        <Step title="激活虚拟环境">
            在终端中输入下面的命令激活虚拟环境
             <Tabs>
              <Tab title="Windows">
                ```
                .venv/Scripts/activate
                ```
              </Tab>
              <Tab title="macOS">
                ```
                source .venv/bin/activate
                ```
              </Tab>
            </Tabs>
            激活后，你可以在终端中看到类似 `(ComfyUI)` 的提示，表示你已经激活了虚拟环境
        </Step>
        <Step title="确认当前 python 环境">
            使用 `which python` 查看当前 python 所在环境，确认不是系统环境
        </Step>
        
        完成以上步骤后你就激活了对应的 Python 环境，你可以继续在这个环境里进行依赖安装相关的操作了。
    </Steps>
  </Tab>
</Tabs>