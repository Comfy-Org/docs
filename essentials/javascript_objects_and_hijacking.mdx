---
title: "Comfy Objects"
---

## Function hijacking

A common JavaScript idiom used in extensions is to hijack 
existing function calls and insert additional behaviour. This can apply to the 
behaviour of a node, or of the core Comfy objects, in particular `app` (the Comfy application)
and `graph` (an extended `LiteGraph` object representing the graph).

A reminder of the basic idiom:
```Javascript
const the_original_function = the_object.the_function
the_object.the_function = function() {
    // might want to do something before the original code
    var return_value = the_original_function?.apply(this, arguments);
    // or after, possibly depending on, or changing, the return value
    return return_value
}
```


## App

## LGraph

### LLink

## ComfyNode

<Tip>This description applies to a normal node. 
Group nodes, primitive nodes, notes, and redirect nodes have different properties.</Tip>

A `ComfyNode` object represents a node in the current workflow. It has a number of important properties 
that you may wish to make use of, a very large number of functions that you may wish to use, or hijack to 
modify behaviour. 

To get a more complete sense of the node object, you may find it helpful to insert the following
code into your extension and place a breakpoint on the `console.log` command. When you then create a new node
you can use your favorite debugger to interrogate the node.

```Javascript
async nodeCreated(node) {
    console.log("nodeCreated")
}
```

### Properties

|property|contents|
|-|-|
|`bgcolor`|The background color of the node, or undefined for the default|
|`comfyClass`|The Python class representing the node| 
|`flags`|A dictionary that may contain flags related to the state of the node. In particular, `flags.collapsed` is true for collapsed nodes.|
|`graph`|A reference to the LGraph object|
|`id`|A unique id|
|`input_type`|A list of the input types (eg "STRING", "MODEL", "CLIP" etc). Generally matches the Python INPUT_TYPES|
|`inputs`|A list of inputs, each a dictionary containing keys `.name`, `.type`, `.color_on` (input dot color), and `.link` (the id of the LLink in `graph.links`)|
|`mode`|Normally 0, set to 2 if the node is muted and 4 if the node is bypassed. Values of 1 and 3 are not used by Comfy|
|`order`|The node's position in the execution order. Set by `Lgraph.computeExecutionOrder()` when the prompt is submitted|
|`pos`|The [x,y] position of the node on the canvas|
|`properties`|A dictionary containing `"Node name for S&R"`, used by LiteGraph|
|`properties_info`|The type and default value of entries in `properties`|
|`size`|The width and height of the node on the canvas|
|`title`|Display Title|
|`type`|The unique name (from Python) of the node class|
|`widgets`|A list of widgets (discussed below)|
|`widgets_values`|A list of the current values of widgets|


### Functions

There are a very large number of functions (85, last time I counted). A selection are listed below.

|function|notes|
|-|-|

## Widgets