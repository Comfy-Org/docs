---
title: "Javascript Extensions"
---

## Javascript Extensions

The Comfy web client can be extended by creating a subdirectory in your custom node directory, conventionally called `js`, and
exporting `WEB_DIRECTORY` - so your `__init_.py` will include something like:
```python
WEB_DIRECTORY = "./js"
__all__ = ["NODE_CLASS_MAPPINGS", "NODE_DISPLAY_NAME_MAPPINGS", "WEB_DIRECTORY"]
```

Javascript `.js` files (and _only_ those) will be loaded by the browser as the Comfy webpage loads. 
You will need to import `app` (at least) from the Comfy system files, which can be done with
```Javascript
import { app } from "../../scripts/app.js";
```

The basic deployment is to include a call in your `.js` file to `app.registerExtension`, passing a dictionary that
_must_ contain a unique `name`, and _may_ contain any of a number of specifically name functions which are called at different times
by Comfy.

So a trivial extension might look like this:

```Javascript
import { app } from "../../scripts/app.js";
app.registerExtension({ 
	name: "a.unqiue.name.for.this.extension",
	async setup() { 
		alert("Setup complete!")
	},
})
```

## Extension method names

As Comfy is developed, additional methods are being added to this list. To find all possible methods, and get a sense
of when they are called, search for `this.#invokeExtensionsAsync` or `this.#invokeExtensions` in `app.js`. At time of writing
these are the methods called, in their typical order.

### init

`init()` is called, without arguments, when Comfy is loaded, before any nodes have been defined, or the workflow loaded.





### setup

`setup()` is called right at the end of the startup process

registerCustomNode
nodeCreated
beforeRegisterNodeDef
addCustomNodeDefs
getCustomWidgets
beforeConfigureGraph
afterConfigureGraph
refreshComboInNodes

loadedGraphNode (not async)