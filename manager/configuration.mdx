---
title: Configuration
description: Configure ComfyUI-Manager settings and paths
---

## Paths

Starting from V3.38, Manager uses a protected system path for enhanced security.

### User directory

- Default path: `ComfyUI/user`
- Can be set using `--user-directory <USER_DIRECTORY>`

### Manager path

| ComfyUI Version | Manager Path |
|-----------------|--------------|
| v0.3.76+ (with System User API) | `<USER_DIRECTORY>/__manager/` |
| Older versions | `<USER_DIRECTORY>/default/ComfyUI-Manager/` |

### Configuration files

| File | Description |
|------|-------------|
| `config.ini` | Basic configuration |
| `channels.list` | Configurable channel lists |
| `pip_overrides.json` | Custom pip package mappings |
| `pip_blacklist.list` | Packages to prevent installation |
| `pip_auto_fix.list` | Packages to auto-restore |
| `snapshots/` | Saved snapshot files |
| `startup-scripts/` | Startup script files |
| `components/` | Component files |

## Config.ini options

Modify the `config.ini` file to apply settings. The path is displayed in startup log messages.

```ini
[default]
git_exe = <path to git executable>
use_uv = <True/False - use uv instead of pip>
default_cache_as_channel_url = <True/False>
bypass_ssl = <True/False - disable SSL if errors occur>
file_logging = <True/False - create log file>
windows_selector_event_loop_policy = <True/False - fix event loop errors on Windows>
model_download_by_agent = <True/False - use agent for model downloads>
downgrade_blacklist = <comma-separated package list>
security_level = <strong|normal|normal-|weak>
always_lazy_install = <True/False>
network_mode = <public|private|offline>
```

### Network modes

| Mode | Description |
|------|-------------|
| `public` | Standard public network environment |
| `private` | Closed network with private node DB configured via `channel_url` (uses cache if available) |
| `offline` | No external connections (uses cache if available) |

## Extra model paths

Configure in `extra_model_paths.yaml`. Settings are applied based on the section marked as `is_default`:

- `custom_nodes`: Path for installing custom nodes
- `download_model_base`: Path for downloading models

## Environment variables

| Variable | Description |
|----------|-------------|
| `COMFYUI_PATH` | Installation path of ComfyUI |
| `GITHUB_ENDPOINT` | Reverse proxy for GitHub access |
| `HF_ENDPOINT` | Reverse proxy for Hugging Face access |

### Examples

**GitHub proxy:**
```bash
GITHUB_ENDPOINT=https://mirror.ghproxy.com/https://github.com
```
Redirects `https://github.com/ltdrdata/ComfyUI-Impact-Pack` to `https://mirror.ghproxy.com/https://github.com/ltdrdata/ComfyUI-Impact-Pack`

**Hugging Face proxy:**
```bash
HF_ENDPOINT=https://some-hf-mirror.com
```
Changes `https://huggingface.co/path/to/somewhere` to `https://some-hf-mirror.com/path/to/somewhere`

## Advanced configuration

### Prevent package downgrades

List package names in `downgrade_blacklist` in `config.ini`, separated by commas:

```ini
downgrade_blacklist = diffusers, kornia
```

### Custom pip mapping

Create `pip_overrides.json` to change installation of specific pip packages. Refer to `pip_overrides.json.template` for format.

### Prevent pip package installation

List package names one per line in `pip_blacklist.list`.

### Auto-restore pip packages

List pip spec requirements in `pip_auto_fix.list` (similar to `requirements.txt`). Packages are automatically restored when starting ComfyUI or when versions get mismatched.

`--index-url` can be used.

### Use aria2 as downloader

See the [aria2 setup guide](https://github.com/ltdrdata/ComfyUI-Manager/blob/main/docs/en/use_aria2.md) for configuration.

## Security policy

Set security level in `config.ini`:

```ini
security_level = <LEVEL>
```

### Security levels

| Level | Description |
|-------|-------------|
| `strong` | Doesn't allow high and middle level risky features |
| `normal` | Doesn't allow high level risky features; middle level available |
| `normal-` | Doesn't allow high level risky features if `--listen` is specified and not starts with `127.`; middle level available |
| `weak` | All features available |

### Risk levels

**High risk features:**
- Install via git URL, pip install
- Installation of custom nodes not in the default channel
- Fix custom nodes

**Middle risk features:**
- Uninstall/Update
- Installation of custom nodes in the default channel
- Restore/Remove Snapshot
- Restart

**Low risk features:**
- Update ComfyUI
